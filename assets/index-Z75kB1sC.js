(function(){const de=document.createElement("link").relList;if(de&&de.supports&&de.supports("modulepreload"))return;for(const L of document.querySelectorAll('link[rel="modulepreload"]'))I(L);new MutationObserver(L=>{for(const _ of L)if(_.type==="childList")for(const x of _.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&I(x)}).observe(document,{childList:!0,subtree:!0});function D(L){const _={};return L.integrity&&(_.integrity=L.integrity),L.referrerPolicy&&(_.referrerPolicy=L.referrerPolicy),L.crossOrigin==="use-credentials"?_.credentials="include":L.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function I(L){if(L.ep)return;L.ep=!0;const _=D(L);fetch(L.href,_)}})();(function(){const he=document.createElement("link").relList;if(he&&he.supports&&he.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))D(I);new MutationObserver(I=>{for(const L of I)if(L.type==="childList")for(const _ of L.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&D(_)}).observe(document,{childList:!0,subtree:!0});function de(I){const L={};return I.integrity&&(L.integrity=I.integrity),I.referrerPolicy&&(L.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?L.credentials="include":I.crossOrigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function D(I){if(I.ep)return;I.ep=!0;const L=de(I);fetch(I.href,L)}})();function Be(he){return he&&he.__esModule&&Object.prototype.hasOwnProperty.call(he,"default")?he.default:he}var xe={exports:{}},Fe=xe.exports,we;function Ie(){return we||(we=1,(function(he,de){(function(D,I){he.exports=I()})(typeof self<"u"?self:Fe,function(){return(function(D){var I={};function L(_){if(I[_])return I[_].exports;var x=I[_]={i:_,l:!1,exports:{}};return D[_].call(x.exports,x,x.exports,L),x.l=!0,x.exports}return L.m=D,L.c=I,L.d=function(_,x,p){L.o(_,x)||Object.defineProperty(_,x,{configurable:!1,enumerable:!0,get:p})},L.n=function(_){var x=_&&_.__esModule?function(){return _.default}:function(){return _};return L.d(x,"a",x),x},L.o=function(_,x){return Object.prototype.hasOwnProperty.call(_,x)},L.p="",L(L.s=11)})([(function(D,y,L){var _=Array.prototype,x=Object.prototype,p={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},b=/[&"'<>\\]/g,y=D.exports={};function w(d,P){return x.hasOwnProperty.call(d,P)}y.hasOwnProp=w;function j(d){return p[d]}function R(d,P,B){if(B.Update||(B=new y.TemplateError(B)),B.Update(d),!P){var F=B;B=new Error(F.message),B.name=F.name}return B}y._prettifyError=R;function C(d,P,B){var F,J;d instanceof Error&&(J=d,d=J.name+": "+J.message),Object.setPrototypeOf?(F=new Error(d),Object.setPrototypeOf(F,C.prototype)):(F=this,Object.defineProperty(F,"message",{enumerable:!1,writable:!0,value:d})),Object.defineProperty(F,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(F,this.constructor);var z;if(J){var Z=Object.getOwnPropertyDescriptor(J,"stack");z=Z&&(Z.get||function(){return Z.value}),z||(z=function(){return J.stack})}else{var se=new Error(d).stack;z=function(){return se}}return Object.defineProperty(F,"stack",{get:function(){return z.call(F)}}),Object.defineProperty(F,"cause",{value:J}),F.lineno=P,F.colno=B,F.firstUpdate=!0,F.Update=function(ie){var Q="("+(ie||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?Q+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(Q+=" [Line "+this.lineno+"]")),Q+=`
 `,this.firstUpdate&&(Q+=" "),this.message=Q+(this.message||""),this.firstUpdate=!1,this},F}Object.setPrototypeOf?Object.setPrototypeOf(C.prototype,Error.prototype):C.prototype=Object.create(Error.prototype,{constructor:{value:C}}),y.TemplateError=C;function k(d){return d.replace(b,j)}y.escape=k;function t(d){return x.toString.call(d)==="[object Function]"}y.isFunction=t;function n(d){return x.toString.call(d)==="[object Array]"}y.isArray=n;function a(d){return x.toString.call(d)==="[object String]"}y.isString=a;function o(d){return x.toString.call(d)==="[object Object]"}y.isObject=o;function g(d){return d?typeof d=="string"?d.split("."):[d]:[]}function c(d){var P=g(d);return function(B){for(var F=B,J=0;J<P.length;J++){var z=P[J];if(w(F,z))F=F[z];else return}return F}}y.getAttrGetter=c;function e(d,P,B){for(var F={},J=t(P)?P:c(P),z=0;z<d.length;z++){var Z=d[z],se=J(Z,z);if(se===void 0&&B===!0)throw new TypeError('groupby: attribute "'+P+'" resolved to undefined');(F[se]||(F[se]=[])).push(Z)}return F}y.groupBy=e;function i(d){return Array.prototype.slice.call(d)}y.toArray=i;function r(d){var P=[];if(!d)return P;for(var B=d.length,F=i(arguments).slice(1),J=-1;++J<B;)E(F,d[J])===-1&&P.push(d[J]);return P}y.without=r;function u(d,P){for(var B="",F=0;F<P;F++)B+=d;return B}y.repeat=u;function l(d,P,B){if(d!=null){if(_.forEach&&d.forEach===_.forEach)d.forEach(P,B);else if(d.length===+d.length)for(var F=0,J=d.length;F<J;F++)P.call(B,d[F],F,d)}}y.each=l;function s(d,P){var B=[];if(d==null)return B;if(_.map&&d.map===_.map)return d.map(P);for(var F=0;F<d.length;F++)B[B.length]=P(d[F],F);return d.length===+d.length&&(B.length=d.length),B}y.map=s;function h(d,P,B){var F=-1;function J(){F++,F<d.length?P(d[F],F,J,B):B()}J()}y.asyncIter=h;function f(d,P,B){var F=T(d||{}),J=F.length,z=-1;function Z(){z++;var se=F[z];z<J?P(se,d[se],z,J,Z):B()}Z()}y.asyncFor=f;function E(d,P,B){return Array.prototype.indexOf.call(d||[],P,B)}y.indexOf=E;function T(d){var P=[];for(var B in d)w(d,B)&&P.push(B);return P}y.keys=T;function A(d){return T(d).map(function(P){return[P,d[P]]})}y._entries=A;function N(d){return T(d).map(function(P){return d[P]})}y._values=N;function m(d,P){return d=d||{},T(P).forEach(function(B){d[B]=P[B]}),d}y._assign=y.extend=m;function O(d,P){if(n(P)||a(P))return P.indexOf(d)!==-1;if(o(P))return d in P;throw new Error('Cannot use "in" operator to search for "'+d+'" in unexpected types.')}y.inOperator=O}),(function(D,I,L){function _(a,o){for(var g=0;g<o.length;g++){var c=o[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,p(c.key),c)}}function x(a,o,g){return o&&_(a.prototype,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function p(a){var o=b(a,"string");return typeof o=="symbol"?o:String(o)}function b(a,o){if(typeof a!="object"||a===null)return a;var g=a[Symbol.toPrimitive];if(g!==void 0){var c=g.call(a,o);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}function y(a,o){a.prototype=Object.create(o.prototype),a.prototype.constructor=a,w(a,o)}function w(a,o){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,c){return g.__proto__=c,g},w(a,o)}var j=L(16),R=L(0);function C(a,o){return typeof a!="function"||typeof o!="function"?o:function(){var g=this.parent;this.parent=a;var c=o.apply(this,arguments);return this.parent=g,c}}function k(a,o,g){g=g||{},R.keys(g).forEach(function(e){g[e]=C(a.prototype[e],g[e])});var c=(function(e){y(i,e);function i(){return e.apply(this,arguments)||this}return x(i,[{key:"typename",get:function(){return o}}]),i})(a);return R._assign(c.prototype,g),c}var t=(function(){function a(){this.init.apply(this,arguments)}var o=a.prototype;return o.init=function(){},a.extend=function(g,c){return typeof g=="object"&&(c=g,g="anonymous"),k(this,g,c)},x(a,[{key:"typename",get:function(){return this.constructor.name}}]),a})(),n=(function(a){y(o,a);function o(){var c,e;return e=a.call(this)||this,(c=e).init.apply(c,arguments),e}var g=o.prototype;return g.init=function(){},o.extend=function(c,e){return typeof c=="object"&&(e=c,c="anonymous"),k(this,c,e)},x(o,[{key:"typename",get:function(){return this.constructor.name}}]),o})(j);D.exports={Obj:t,EmitterObj:n}}),(function(D,I,L){var _=L(0),x=Array.from,p=typeof Symbol=="function"&&Symbol.iterator&&typeof x=="function",b=(function(){function s(f,E){this.variables=Object.create(null),this.parent=f,this.topLevel=!1,this.isolateWrites=E}var h=s.prototype;return h.set=function(f,E,T){var A=f.split("."),N=this.variables,m=this;if(T&&(m=this.resolve(A[0],!0))){m.set(f,E);return}for(var O=0;O<A.length-1;O++){var d=A[O];N[d]||(N[d]={}),N=N[d]}N[A[A.length-1]]=E},h.get=function(f){var E=this.variables[f];return E!==void 0?E:null},h.lookup=function(f){var E=this.parent,T=this.variables[f];return T!==void 0?T:E&&E.lookup(f)},h.resolve=function(f,E){var T=E&&this.isolateWrites?void 0:this.parent,A=this.variables[f];return A!==void 0?this:T&&T.resolve(f)},h.push=function(f){return new s(this,f)},h.pop=function(){return this.parent},s})();function y(s,h,f){return function(){for(var E=arguments.length,T=new Array(E),A=0;A<E;A++)T[A]=arguments[A];var N=C(T),m,O=R(T);if(N>s.length)m=T.slice(0,s.length),T.slice(m.length,N).forEach(function(B,F){F<h.length&&(O[h[F]]=B)}),m.push(O);else if(N<s.length){m=T.slice(0,N);for(var d=N;d<s.length;d++){var P=s[d];m.push(O[P]),delete O[P]}m.push(O)}else m=T;return f.apply(this,m)}}function w(s){return s.__keywords=!0,s}function j(s){return s&&Object.prototype.hasOwnProperty.call(s,"__keywords")}function R(s){var h=s.length;if(h){var f=s[h-1];if(j(f))return f}return{}}function C(s){var h=s.length;if(h===0)return 0;var f=s[h-1];return j(f)?h-1:h}function k(s){if(typeof s!="string")return s;this.val=s,this.length=s.length}k.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),k.prototype.valueOf=function(){return this.val},k.prototype.toString=function(){return this.val};function t(s,h){return s instanceof k?new k(h):h.toString()}function n(s){var h=typeof s;return h==="string"?new k(s):h!=="function"?s:function(f){var E=s.apply(this,arguments);return typeof E=="string"?new k(E):E}}function a(s,h){return s=s??"",h&&!(s instanceof k)&&(s=_.escape(s.toString())),s}function o(s,h,f){if(s==null)throw new _.TemplateError("attempted to output null or undefined value",h+1,f+1);return s}function g(s,h){if(s!=null)return typeof s[h]=="function"?function(){for(var f=arguments.length,E=new Array(f),T=0;T<f;T++)E[T]=arguments[T];return s[h].apply(s,E)}:s[h]}function c(s,h,f,E){if(s){if(typeof s!="function")throw new Error("Unable to call `"+h+"`, which is not a function")}else throw new Error("Unable to call `"+h+"`, which is undefined or falsey");return s.apply(f,E)}function e(s,h,f){var E=h.lookup(f);return E!==void 0?E:s.lookup(f)}function i(s,h,f){return s.lineno?s:new _.TemplateError(s,h,f)}function r(s,h,f,E){if(_.isArray(s)){var T=s.length;_.asyncIter(s,function(A,N,m){switch(h){case 1:f(A,N,T,m);break;case 2:f(A[0],A[1],N,T,m);break;case 3:f(A[0],A[1],A[2],N,T,m);break;default:A.push(N,T,m),f.apply(this,A)}},E)}else _.asyncFor(s,function(A,N,m,O,d){f(A,N,m,O,d)},E)}function u(s,h,f,E){var T=0,A,N;function m(J,z){T++,N[J]=z,T===A&&E(null,N.join(""))}if(_.isArray(s))if(A=s.length,N=new Array(A),A===0)E(null,"");else for(var O=0;O<s.length;O++){var d=s[O];switch(h){case 1:f(d,O,A,m);break;case 2:f(d[0],d[1],O,A,m);break;case 3:f(d[0],d[1],d[2],O,A,m);break;default:d.push(O,A,m),f.apply(this,d)}}else{var P=_.keys(s||{});if(A=P.length,N=new Array(A),A===0)E(null,"");else for(var B=0;B<P.length;B++){var F=P[B];f(F,s[F],B,A,m)}}}function l(s){return typeof s!="object"||s===null||_.isArray(s)?s:p&&Symbol.iterator in s?x(s):s}D.exports={Frame:b,makeMacro:y,makeKeywordArgs:w,numArgs:C,suppressValue:a,ensureDefined:o,memberLookup:g,contextOrFrameLookup:e,callWrap:c,handleError:i,isArray:_.isArray,keys:_.keys,SafeString:k,copySafeness:t,markSafe:n,asyncEach:r,asyncAll:u,inOperator:_.inOperator,fromIterator:l}}),(function(D,I,L){function _(W,$){for(var te=0;te<$.length;te++){var H=$[te];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(W,p(H.key),H)}}function x(W,$,te){return $&&_(W.prototype,$),Object.defineProperty(W,"prototype",{writable:!1}),W}function p(W){var $=b(W,"string");return typeof $=="symbol"?$:String($)}function b(W,$){if(typeof W!="object"||W===null)return W;var te=W[Symbol.toPrimitive];if(te!==void 0){var H=te.call(W,$);if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}function y(W,$){W.prototype=Object.create($.prototype),W.prototype.constructor=W,w(W,$)}function w(W,$){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,H){return te.__proto__=H,te},w(W,$)}var j=L(1),R=j.Obj;function C(W,$,te){W instanceof $&&te.push(W),W instanceof k&&W.findAll($,te)}var k=(function(W){y($,W);function $(){return W.apply(this,arguments)||this}var te=$.prototype;return te.init=function(H,ne){for(var le=arguments,pe=this,ge=arguments.length,Ce=new Array(ge>2?ge-2:0),be=2;be<ge;be++)Ce[be-2]=arguments[be];this.lineno=H,this.colno=ne,this.fields.forEach(function(Pe,Re){var Ee=le[Re+2];Ee===void 0&&(Ee=null),pe[Pe]=Ee})},te.findAll=function(H,ne){var le=this;return ne=ne||[],this instanceof n?this.children.forEach(function(pe){return C(pe,H,ne)}):this.fields.forEach(function(pe){return C(le[pe],H,ne)}),ne},te.iterFields=function(H){var ne=this;this.fields.forEach(function(le){H(ne[le],le)})},$})(R),t=(function(W){y($,W);function $(){return W.apply(this,arguments)||this}return x($,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),$})(k),n=(function(W){y($,W);function $(){return W.apply(this,arguments)||this}var te=$.prototype;return te.init=function(H,ne,le){W.prototype.init.call(this,H,ne,le||[])},te.addChild=function(H){this.children.push(H)},x($,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),$})(k),a=n.extend("Root"),o=t.extend("Literal"),g=t.extend("Symbol"),c=n.extend("Group"),e=n.extend("Array"),i=k.extend("Pair",{fields:["key","value"]}),r=n.extend("Dict"),u=k.extend("LookupVal",{fields:["target","val"]}),l=k.extend("If",{fields:["cond","body","else_"]}),s=l.extend("IfAsync"),h=k.extend("InlineIf",{fields:["cond","body","else_"]}),f=k.extend("For",{fields:["arr","name","body","else_"]}),E=f.extend("AsyncEach"),T=f.extend("AsyncAll"),A=k.extend("Macro",{fields:["name","args","body"]}),N=A.extend("Caller"),m=k.extend("Import",{fields:["template","target","withContext"]}),O=(function(W){y($,W);function $(){return W.apply(this,arguments)||this}var te=$.prototype;return te.init=function(H,ne,le,pe,ge){W.prototype.init.call(this,H,ne,le,pe||new n,ge)},x($,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),$})(k),d=k.extend("FunCall",{fields:["name","args"]}),P=d.extend("Filter"),B=P.extend("FilterAsync",{fields:["name","args","symbol"]}),F=r.extend("KeywordArgs"),J=k.extend("Block",{fields:["name","body"]}),z=k.extend("Super",{fields:["blockName","symbol"]}),Z=k.extend("TemplateRef",{fields:["template"]}),se=Z.extend("Extends"),ie=k.extend("Include",{fields:["template","ignoreMissing"]}),Q=k.extend("Set",{fields:["targets","value"]}),U=k.extend("Switch",{fields:["expr","cases","default"]}),G=k.extend("Case",{fields:["cond","body"]}),V=n.extend("Output"),re=k.extend("Capture",{fields:["body"]}),ue=o.extend("TemplateData"),me=k.extend("UnaryOp",{fields:["target"]}),oe=k.extend("BinOp",{fields:["left","right"]}),ye=oe.extend("In"),v=oe.extend("Is"),S=oe.extend("Or"),K=oe.extend("And"),M=me.extend("Not"),Y=oe.extend("Add"),q=oe.extend("Concat"),ee=oe.extend("Sub"),X=oe.extend("Mul"),ae=oe.extend("Div"),ce=oe.extend("FloorDiv"),fe=oe.extend("Mod"),Oe=oe.extend("Pow"),Le=me.extend("Neg"),Te=me.extend("Pos"),Se=k.extend("Compare",{fields:["expr","ops"]}),Ae=k.extend("CompareOperand",{fields:["expr","type"]}),ke=k.extend("CallExtension",{init:function(W,$,te,H){this.parent(),this.extName=W.__name||W,this.prop=$,this.args=te||new n,this.contentArgs=H||[],this.autoescape=W.autoescape},fields:["extName","prop","args","contentArgs"]}),Ne=ke.extend("CallExtensionAsync");function ve(W,$,te){var H=W.split(`
`);H.forEach(function(ne,le){ne&&(te&&le>0||!te)&&process.stdout.write(" ".repeat($));var pe=le===H.length-1?"":`
`;process.stdout.write(""+ne+pe)})}function _e(W,$){if($=$||0,ve(W.typename+": ",$),W instanceof n)ve(`
`),W.children.forEach(function(ne){_e(ne,$+2)});else if(W instanceof ke)ve(W.extName+"."+W.prop+`
`),W.args&&_e(W.args,$+2),W.contentArgs&&W.contentArgs.forEach(function(ne){_e(ne,$+2)});else{var te=[],H=null;W.iterFields(function(ne,le){ne instanceof k?te.push([le,ne]):(H=H||{},H[le]=ne)}),H?ve(JSON.stringify(H,null,2)+`
`,null,!0):ve(`
`),te.forEach(function(ne){var le=ne[0],pe=ne[1];ve("["+le+"] =>",$+2),_e(pe,$+4)})}}D.exports={Node:k,Root:a,NodeList:n,Value:t,Literal:o,Symbol:g,Group:c,Array:e,Pair:i,Dict:r,Output:V,Capture:re,TemplateData:ue,If:l,IfAsync:s,InlineIf:h,For:f,AsyncEach:E,AsyncAll:T,Macro:A,Caller:N,Import:m,FromImport:O,FunCall:d,Filter:P,FilterAsync:B,KeywordArgs:F,Block:J,Super:z,Extends:se,Include:ie,Set:Q,Switch:U,Case:G,LookupVal:u,BinOp:oe,In:ye,Is:v,Or:S,And:K,Not:M,Add:Y,Concat:q,Sub:ee,Mul:X,Div:ae,FloorDiv:ce,Mod:fe,Pow:Oe,Neg:Le,Pos:Te,Compare:Se,CompareOperand:Ae,CallExtension:ke,CallExtensionAsync:Ne,printNodes:_e}}),(function(D,I){}),(function(D,I,L){function _(o,g){o.prototype=Object.create(g.prototype),o.prototype.constructor=o,x(o,g)}function x(o,g){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,e){return c.__proto__=e,c},x(o,g)}var p=L(8),b=L(17),y=L(3),w=L(0),j=w.TemplateError,R=L(2),C=R.Frame,k=L(1),t=k.Obj,n={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},a=(function(o){_(g,o);function g(){return o.apply(this,arguments)||this}var c=g.prototype;return c.init=function(e,i){this.templateName=e,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=i},c.fail=function(e,i,r){throw i!==void 0&&(i+=1),r!==void 0&&(r+=1),new j(e,i,r)},c._pushBuffer=function(){var e=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=e,this._emit("var "+this.buffer+' = "";'),e},c._popBuffer=function(){this.buffer=this.bufferStack.pop()},c._emit=function(e){this.codebuf.push(e)},c._emitLine=function(e){this._emit(e+`
`)},c._emitLines=function(){for(var e=this,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];r.forEach(function(l){return e._emitLine(l)})},c._emitFuncBegin=function(e,i){this.buffer="output",this._scopeClosers="",this._emitLine("function "+i+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+e.lineno+";"),this._emitLine("var colno = "+e.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},c._emitFuncEnd=function(e){e||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},c._addScopeLevel=function(){this._scopeClosers+="})"},c._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},c._withScopedSyntax=function(e){var i=this._scopeClosers;this._scopeClosers="",e.call(this),this._closeScopeLevels(),this._scopeClosers=i},c._makeCallback=function(e){var i=this._tmpid();return"function("+i+(e?","+e:"")+`) {
if(`+i+") { cb("+i+"); return; }"},c._tmpid=function(){return this.lastId++,"t_"+this.lastId},c._templateName=function(){return this.templateName==null?"undefined":JSON.stringify(this.templateName)},c._compileChildren=function(e,i){var r=this;e.children.forEach(function(u){r.compile(u,i)})},c._compileAggregate=function(e,i,r,u){var l=this;r&&this._emit(r),e.children.forEach(function(s,h){h>0&&l._emit(","),l.compile(s,i)}),u&&this._emit(u)},c._compileExpression=function(e,i){this.assertType(e,y.Literal,y.Symbol,y.Group,y.Array,y.Dict,y.FunCall,y.Caller,y.Filter,y.LookupVal,y.Compare,y.InlineIf,y.In,y.Is,y.And,y.Or,y.Not,y.Add,y.Concat,y.Sub,y.Mul,y.Div,y.FloorDiv,y.Mod,y.Pow,y.Neg,y.Pos,y.Compare,y.NodeList),this.compile(e,i)},c.assertType=function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),u=1;u<i;u++)r[u-1]=arguments[u];r.some(function(l){return e instanceof l})||this.fail("assertType: invalid type: "+e.typename,e.lineno,e.colno)},c.compileCallExtension=function(e,i,r){var u=this,l=e.args,s=e.contentArgs,h=typeof e.autoescape=="boolean"?e.autoescape:!0;if(r||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+e.extName+'")["'+e.prop+'"]('),this._emit("context"),(l||s)&&this._emit(","),l&&(l instanceof y.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),l.children.forEach(function(E,T){u._compileExpression(E,i),(T!==l.children.length-1||s.length)&&u._emit(",")})),s.length&&s.forEach(function(E,T){if(T>0&&u._emit(","),E){u._emitLine("function(cb) {"),u._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var A=u._pushBuffer();u._withScopedSyntax(function(){u.compile(E,i),u._emitLine("cb(null, "+A+");")}),u._popBuffer(),u._emitLine("return "+A+";"),u._emitLine("}")}else u._emit("null")}),r){var f=this._tmpid();this._emitLine(", "+this._makeCallback(f)),this._emitLine(this.buffer+" += runtime.suppressValue("+f+", "+h+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+h+` && env.opts.autoescape);
`)},c.compileCallExtensionAsync=function(e,i){this.compileCallExtension(e,i,!0)},c.compileNodeList=function(e,i){this._compileChildren(e,i)},c.compileLiteral=function(e){if(typeof e.value=="string"){var i=e.value.replace(/\\/g,"\\\\");i=i.replace(/"/g,'\\"'),i=i.replace(/\n/g,"\\n"),i=i.replace(/\r/g,"\\r"),i=i.replace(/\t/g,"\\t"),i=i.replace(/\u2028/g,"\\u2028"),this._emit('"'+i+'"')}else e.value===null?this._emit("null"):this._emit(e.value.toString())},c.compileSymbol=function(e,i){var r=e.value,u=i.lookup(r);u?this._emit(u):this._emit('runtime.contextOrFrameLookup(context, frame, "'+r+'")')},c.compileGroup=function(e,i){this._compileAggregate(e,i,"(",")")},c.compileArray=function(e,i){this._compileAggregate(e,i,"[","]")},c.compileDict=function(e,i){this._compileAggregate(e,i,"{","}")},c.compilePair=function(e,i){var r=e.key,u=e.value;r instanceof y.Symbol?r=new y.Literal(r.lineno,r.colno,r.value):r instanceof y.Literal&&typeof r.value=="string"||this.fail("compilePair: Dict keys must be strings or names",r.lineno,r.colno),this.compile(r,i),this._emit(": "),this._compileExpression(u,i)},c.compileInlineIf=function(e,i){this._emit("("),this.compile(e.cond,i),this._emit("?"),this.compile(e.body,i),this._emit(":"),e.else_!==null?this.compile(e.else_,i):this._emit('""'),this._emit(")")},c.compileIn=function(e,i){this._emit("runtime.inOperator("),this.compile(e.left,i),this._emit(","),this.compile(e.right,i),this._emit(")")},c.compileIs=function(e,i){var r=e.right.name?e.right.name.value:e.right.value;this._emit('env.getTest("'+r+'").call(context, '),this.compile(e.left,i),e.right.args&&(this._emit(","),this.compile(e.right.args,i)),this._emit(") === true")},c._binOpEmitter=function(e,i,r){this.compile(e.left,i),this._emit(r),this.compile(e.right,i)},c.compileOr=function(e,i){return this._binOpEmitter(e,i," || ")},c.compileAnd=function(e,i){return this._binOpEmitter(e,i," && ")},c.compileAdd=function(e,i){return this._binOpEmitter(e,i," + ")},c.compileConcat=function(e,i){return this._binOpEmitter(e,i,' + "" + ')},c.compileSub=function(e,i){return this._binOpEmitter(e,i," - ")},c.compileMul=function(e,i){return this._binOpEmitter(e,i," * ")},c.compileDiv=function(e,i){return this._binOpEmitter(e,i," / ")},c.compileMod=function(e,i){return this._binOpEmitter(e,i," % ")},c.compileNot=function(e,i){this._emit("!"),this.compile(e.target,i)},c.compileFloorDiv=function(e,i){this._emit("Math.floor("),this.compile(e.left,i),this._emit(" / "),this.compile(e.right,i),this._emit(")")},c.compilePow=function(e,i){this._emit("Math.pow("),this.compile(e.left,i),this._emit(", "),this.compile(e.right,i),this._emit(")")},c.compileNeg=function(e,i){this._emit("-"),this.compile(e.target,i)},c.compilePos=function(e,i){this._emit("+"),this.compile(e.target,i)},c.compileCompare=function(e,i){var r=this;this.compile(e.expr,i),e.ops.forEach(function(u){r._emit(" "+n[u.type]+" "),r.compile(u.expr,i)})},c.compileLookupVal=function(e,i){this._emit("runtime.memberLookup(("),this._compileExpression(e.target,i),this._emit("),"),this._compileExpression(e.val,i),this._emit(")")},c._getNodeName=function(e){switch(e.typename){case"Symbol":return e.value;case"FunCall":return"the return value of ("+this._getNodeName(e.name)+")";case"LookupVal":return this._getNodeName(e.target)+'["'+this._getNodeName(e.val)+'"]';case"Literal":return e.value.toString();default:return"--expression--"}},c.compileFunCall=function(e,i){this._emit("(lineno = "+e.lineno+", colno = "+e.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(e.name,i),this._emit(', "'+this._getNodeName(e.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(e.args,i,"[","])"),this._emit(")")},c.compileFilter=function(e,i){var r=e.name;this.assertType(r,y.Symbol),this._emit('env.getFilter("'+r.value+'").call(context, '),this._compileAggregate(e.args,i),this._emit(")")},c.compileFilterAsync=function(e,i){var r=e.name,u=e.symbol.value;this.assertType(r,y.Symbol),i.set(u,u),this._emit('env.getFilter("'+r.value+'").call(context, '),this._compileAggregate(e.args,i),this._emitLine(", "+this._makeCallback(u)),this._addScopeLevel()},c.compileKeywordArgs=function(e,i){this._emit("runtime.makeKeywordArgs("),this.compileDict(e,i),this._emit(")")},c.compileSet=function(e,i){var r=this,u=[];e.targets.forEach(function(l){var s=l.value,h=i.lookup(s);h==null&&(h=r._tmpid(),r._emitLine("var "+h+";")),u.push(h)}),e.value?(this._emit(u.join(" = ")+" = "),this._compileExpression(e.value,i),this._emitLine(";")):(this._emit(u.join(" = ")+" = "),this.compile(e.body,i),this._emitLine(";")),e.targets.forEach(function(l,s){var h=u[s],f=l.value;r._emitLine('frame.set("'+f+'", '+h+", true);"),r._emitLine("if(frame.topLevel) {"),r._emitLine('context.setVariable("'+f+'", '+h+");"),r._emitLine("}"),f.charAt(0)!=="_"&&(r._emitLine("if(frame.topLevel) {"),r._emitLine('context.addExport("'+f+'", '+h+");"),r._emitLine("}"))})},c.compileSwitch=function(e,i){var r=this;this._emit("switch ("),this.compile(e.expr,i),this._emit(") {"),e.cases.forEach(function(u,l){r._emit("case "),r.compile(u.cond,i),r._emit(": "),r.compile(u.body,i),u.body.children.length&&r._emitLine("break;")}),e.default&&(this._emit("default:"),this.compile(e.default,i)),this._emit("}")},c.compileIf=function(e,i,r){var u=this;this._emit("if("),this._compileExpression(e.cond,i),this._emitLine(") {"),this._withScopedSyntax(function(){u.compile(e.body,i),r&&u._emit("cb()")}),e.else_?(this._emitLine(`}
else {`),this._withScopedSyntax(function(){u.compile(e.else_,i),r&&u._emit("cb()")})):r&&(this._emitLine(`}
else {`),this._emit("cb()")),this._emitLine("}")},c.compileIfAsync=function(e,i){this._emit("(function(cb) {"),this.compileIf(e,i,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},c._emitLoopBindings=function(e,i,r,u){var l=this,s=[{name:"index",val:r+" + 1"},{name:"index0",val:r},{name:"revindex",val:u+" - "+r},{name:"revindex0",val:u+" - "+r+" - 1"},{name:"first",val:r+" === 0"},{name:"last",val:r+" === "+u+" - 1"},{name:"length",val:u}];s.forEach(function(h){l._emitLine('frame.set("loop.'+h.name+'", '+h.val+");")})},c.compileFor=function(e,i){var r=this,u=this._tmpid(),l=this._tmpid(),s=this._tmpid();if(i=i.push(),this._emitLine("frame = frame.push();"),this._emit("var "+s+" = "),this._compileExpression(e.arr,i),this._emitLine(";"),this._emit("if("+s+") {"),this._emitLine(s+" = runtime.fromIterator("+s+");"),e.name instanceof y.Array){this._emitLine("var "+u+";"),this._emitLine("if(runtime.isArray("+s+")) {"),this._emitLine("var "+l+" = "+s+".length;"),this._emitLine("for("+u+"=0; "+u+" < "+s+".length; "+u+"++) {"),e.name.children.forEach(function(m,O){var d=r._tmpid();r._emitLine("var "+d+" = "+s+"["+u+"]["+O+"];"),r._emitLine('frame.set("'+m+'", '+s+"["+u+"]["+O+"]);"),i.set(e.name.children[O].value,d)}),this._emitLoopBindings(e,s,u,l),this._withScopedSyntax(function(){r.compile(e.body,i)}),this._emitLine("}"),this._emitLine("} else {");var h=e.name.children,f=h[0],E=h[1],T=this._tmpid(),A=this._tmpid();i.set(f.value,T),i.set(E.value,A),this._emitLine(u+" = -1;"),this._emitLine("var "+l+" = runtime.keys("+s+").length;"),this._emitLine("for(var "+T+" in "+s+") {"),this._emitLine(u+"++;"),this._emitLine("var "+A+" = "+s+"["+T+"];"),this._emitLine('frame.set("'+f.value+'", '+T+");"),this._emitLine('frame.set("'+E.value+'", '+A+");"),this._emitLoopBindings(e,s,u,l),this._withScopedSyntax(function(){r.compile(e.body,i)}),this._emitLine("}"),this._emitLine("}")}else{var N=this._tmpid();i.set(e.name.value,N),this._emitLine("var "+l+" = "+s+".length;"),this._emitLine("for(var "+u+"=0; "+u+" < "+s+".length; "+u+"++) {"),this._emitLine("var "+N+" = "+s+"["+u+"];"),this._emitLine('frame.set("'+e.name.value+'", '+N+");"),this._emitLoopBindings(e,s,u,l),this._withScopedSyntax(function(){r.compile(e.body,i)}),this._emitLine("}")}this._emitLine("}"),e.else_&&(this._emitLine("if (!"+l+") {"),this.compile(e.else_,i),this._emitLine("}")),this._emitLine("frame = frame.pop();")},c._compileAsyncLoop=function(e,i,r){var u=this,l=this._tmpid(),s=this._tmpid(),h=this._tmpid(),f=r?"asyncAll":"asyncEach";if(i=i.push(),this._emitLine("frame = frame.push();"),this._emit("var "+h+" = runtime.fromIterator("),this._compileExpression(e.arr,i),this._emitLine(");"),e.name instanceof y.Array){var E=e.name.children.length;this._emit("runtime."+f+"("+h+", "+E+", function("),e.name.children.forEach(function(N){u._emit(N.value+",")}),this._emit(l+","+s+",next) {"),e.name.children.forEach(function(N){var m=N.value;i.set(m,m),u._emitLine('frame.set("'+m+'", '+m+");")})}else{var T=e.name.value;this._emitLine("runtime."+f+"("+h+", 1, function("+T+", "+l+", "+s+",next) {"),this._emitLine('frame.set("'+T+'", '+T+");"),i.set(T,T)}this._emitLoopBindings(e,h,l,s),this._withScopedSyntax(function(){var N;r&&(N=u._pushBuffer()),u.compile(e.body,i),u._emitLine("next("+l+(N?","+N:"")+");"),r&&u._popBuffer()});var A=this._tmpid();this._emitLine("}, "+this._makeCallback(A)),this._addScopeLevel(),r&&this._emitLine(this.buffer+" += "+A+";"),e.else_&&(this._emitLine("if (!"+h+".length) {"),this.compile(e.else_,i),this._emitLine("}")),this._emitLine("frame = frame.pop();")},c.compileAsyncEach=function(e,i){this._compileAsyncLoop(e,i)},c.compileAsyncAll=function(e,i){this._compileAsyncLoop(e,i,!0)},c._compileMacro=function(e,i){var r=this,u=[],l=null,s="macro_"+this._tmpid(),h=i!==void 0;e.args.children.forEach(function(m,O){O===e.args.children.length-1&&m instanceof y.Dict?l=m:(r.assertType(m,y.Symbol),u.push(m))});var f=[].concat(u.map(function(m){return"l_"+m.value}),["kwargs"]),E=u.map(function(m){return'"'+m.value+'"'}),T=(l&&l.children||[]).map(function(m){return'"'+m.key.value+'"'}),A;h?A=i.push(!0):A=new C,this._emitLines("var "+s+" = runtime.makeMacro(","["+E.join(", ")+"], ","["+T.join(", ")+"], ","function ("+f.join(", ")+") {","var callerFrame = frame;","frame = "+(h?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),u.forEach(function(m){r._emitLine('frame.set("'+m.value+'", l_'+m.value+");"),A.set(m.value,"l_"+m.value)}),l&&l.children.forEach(function(m){var O=m.key.value;r._emit('frame.set("'+O+'", '),r._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+O+'")'),r._emit(' ? kwargs["'+O+'"] : '),r._compileExpression(m.value,A),r._emit(");")});var N=this._pushBuffer();return this._withScopedSyntax(function(){r.compile(e.body,A)}),this._emitLine("frame = "+(h?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+N+");"),this._emitLine("});"),this._popBuffer(),s},c.compileMacro=function(e,i){var r=this._compileMacro(e),u=e.name.value;i.set(u,r),i.parent?this._emitLine('frame.set("'+u+'", '+r+");"):(e.name.value.charAt(0)!=="_"&&this._emitLine('context.addExport("'+u+'");'),this._emitLine('context.setVariable("'+u+'", '+r+");"))},c.compileCaller=function(e,i){this._emit("(function (){");var r=this._compileMacro(e,i);this._emit("return "+r+";})()")},c._compileGetTemplate=function(e,i,r,u){var l=this._tmpid(),s=this._templateName(),h=this._makeCallback(l),f=r?"true":"false",E=u?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(e.template,i),this._emitLine(", "+f+", "+s+", "+E+", "+h),l},c.compileImport=function(e,i){var r=e.target.value,u=this._compileGetTemplate(e,i,!1,!1);this._addScopeLevel(),this._emitLine(u+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(u)),this._addScopeLevel(),i.set(r,u),i.parent?this._emitLine('frame.set("'+r+'", '+u+");"):this._emitLine('context.setVariable("'+r+'", '+u+");")},c.compileFromImport=function(e,i){var r=this,u=this._compileGetTemplate(e,i,!1,!1);this._addScopeLevel(),this._emitLine(u+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(u)),this._addScopeLevel(),e.names.children.forEach(function(l){var s,h,f=r._tmpid();l instanceof y.Pair?(s=l.key.value,h=l.value.value):(s=l.value,h=s),r._emitLine("if(Object.prototype.hasOwnProperty.call("+u+', "'+s+'")) {'),r._emitLine("var "+f+" = "+u+"."+s+";"),r._emitLine("} else {"),r._emitLine(`cb(new Error("cannot import '`+s+`'")); return;`),r._emitLine("}"),i.set(h,f),i.parent?r._emitLine('frame.set("'+h+'", '+f+");"):r._emitLine('context.setVariable("'+h+'", '+f+");")})},c.compileBlock=function(e){var i=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+e.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(i)),this._emitLine(this.buffer+" += "+i+";"),this._addScopeLevel()},c.compileSuper=function(e,i){var r=e.blockName.value,u=e.symbol.value,l=this._makeCallback(u);this._emitLine('context.getSuper(env, "'+r+'", b_'+r+", frame, runtime, "+l),this._emitLine(u+" = runtime.markSafe("+u+");"),this._addScopeLevel(),i.set(u,u)},c.compileExtends=function(e,i){var r=this._tmpid(),u=this._compileGetTemplate(e,i,!0,!1);this._emitLine("parentTemplate = "+u),this._emitLine("for(var "+r+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+r+", parentTemplate.blocks["+r+"]);"),this._emitLine("}"),this._addScopeLevel()},c.compileInclude=function(e,i){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var r=this._compileGetTemplate(e,i,!1,e.ignoreMissing);this._emitLine("callback(null,"+r+");});"),this._emitLine("});");var u=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(u)),this._emitLine("callback(null,"+u+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},c.compileTemplateData=function(e,i){this.compileLiteral(e,i)},c.compileCapture=function(e,i){var r=this,u=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax(function(){r.compile(e.body,i)}),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=u},c.compileOutput=function(e,i){var r=this,u=e.children;u.forEach(function(l){l instanceof y.TemplateData?l.value&&(r._emit(r.buffer+" += "),r.compileLiteral(l,i),r._emitLine(";")):(r._emit(r.buffer+" += runtime.suppressValue("),r.throwOnUndefined&&r._emit("runtime.ensureDefined("),r.compile(l,i),r.throwOnUndefined&&r._emit(","+e.lineno+","+e.colno+")"),r._emit(`, env.opts.autoescape);
`))})},c.compileRoot=function(e,i){var r=this;i&&this.fail("compileRoot: root node can't have frame"),i=new C,this._emitFuncBegin(e,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(e,i),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var u=[],l=e.findAll(y.Block);l.forEach(function(s,h){var f=s.name.value;if(u.indexOf(f)!==-1)throw new Error('Block "'+f+'" defined more than once.');u.push(f),r._emitFuncBegin(s,"b_"+f);var E=new C;r._emitLine("var frame = frame.push(true);"),r.compile(s.body,E),r._emitFuncEnd()}),this._emitLine("return {"),l.forEach(function(s,h){var f="b_"+s.name.value;r._emitLine(f+": "+f+",")}),this._emitLine(`root: root
};`)},c.compile=function(e,i){var r=this["compile"+e.typename];r?r.call(this,e,i):this.fail("compile: Cannot compile node: "+e.typename,e.lineno,e.colno)},c.getCode=function(){return this.codebuf.join("")},g})(t);D.exports={compile:function(o,g,c,e,i){i===void 0&&(i={});var r=new a(e,i.throwOnUndefined),u=(c||[]).map(function(s){return s.preprocess}).filter(function(s){return!!s}),l=u.reduce(function(s,h){return h(s)},o);return r.compile(b.transform(p.parse(l,c,i),g,e)),r.getCode()},Compiler:a}}),(function(D,I,L){function _(w,j){w.prototype=Object.create(j.prototype),w.prototype.constructor=w,x(w,j)}function x(w,j){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,C){return R.__proto__=C,R},x(w,j)}var p=L(4),b=L(1),y=b.EmitterObj;D.exports=(function(w){_(j,w);function j(){return w.apply(this,arguments)||this}var R=j.prototype;return R.resolve=function(C,k){return p.resolve(p.dirname(C),k)},R.isRelative=function(C){return C.indexOf("./")===0||C.indexOf("../")===0},j})(y)}),(function(D,I,L){function _(T,A){T.prototype=Object.create(A.prototype),T.prototype.constructor=T,x(T,A)}function x(T,A){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,m){return N.__proto__=m,N},x(T,A)}var p=L(12),b=L(15),y=L(0),w=L(5),j=L(18),R=L(10),C=R.FileSystemLoader,k=R.WebLoader,t=R.PrecompiledLoader,n=L(20),a=L(21),o=L(1),g=o.Obj,c=o.EmitterObj,e=L(2),i=e.handleError,r=e.Frame,u=L(22);function l(T,A,N){p(function(){T(A,N)})}var s={type:"code",obj:{root:function(T,A,N,m,O){try{O(null,"")}catch(d){O(i(d,null,null))}}}},h=(function(T){_(A,T);function A(){return T.apply(this,arguments)||this}var N=A.prototype;return N.init=function(m,O){var d=this;O=this.opts=O||{},this.opts.dev=!!O.dev,this.opts.autoescape=O.autoescape!=null?O.autoescape:!0,this.opts.throwOnUndefined=!!O.throwOnUndefined,this.opts.trimBlocks=!!O.trimBlocks,this.opts.lstripBlocks=!!O.lstripBlocks,this.loaders=[],m?this.loaders=y.isArray(m)?m:[m]:C?this.loaders=[new C("views")]:k&&(this.loaders=[new k("/views")]),typeof window<"u"&&window.nunjucksPrecompiled&&this.loaders.unshift(new t(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=a(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],y._entries(j).forEach(function(P){var B=P[0],F=P[1];return d.addFilter(B,F)}),y._entries(n).forEach(function(P){var B=P[0],F=P[1];return d.addTest(B,F)})},N._initLoaders=function(){var m=this;this.loaders.forEach(function(O){O.cache={},typeof O.on=="function"&&(O.on("update",function(d,P){O.cache[d]=null,m.emit("update",d,P,O)}),O.on("load",function(d,P){m.emit("load",d,P,O)}))})},N.invalidateCache=function(){this.loaders.forEach(function(m){m.cache={}})},N.addExtension=function(m,O){return O.__name=m,this.extensions[m]=O,this.extensionsList.push(O),this},N.removeExtension=function(m){var O=this.getExtension(m);O&&(this.extensionsList=y.without(this.extensionsList,O),delete this.extensions[m])},N.getExtension=function(m){return this.extensions[m]},N.hasExtension=function(m){return!!this.extensions[m]},N.addGlobal=function(m,O){return this.globals[m]=O,this},N.getGlobal=function(m){if(typeof this.globals[m]>"u")throw new Error("global not found: "+m);return this.globals[m]},N.addFilter=function(m,O,d){var P=O;return d&&this.asyncFilters.push(m),this.filters[m]=P,this},N.getFilter=function(m){if(!this.filters[m])throw new Error("filter not found: "+m);return this.filters[m]},N.addTest=function(m,O){return this.tests[m]=O,this},N.getTest=function(m){if(!this.tests[m])throw new Error("test not found: "+m);return this.tests[m]},N.resolveTemplate=function(m,O,d){var P=m.isRelative&&O?m.isRelative(d):!1;return P&&m.resolve?m.resolve(O,d):d},N.getTemplate=function(m,O,d,P,B){var F=this,J=this,z=null;if(m&&m.raw&&(m=m.raw),y.isFunction(d)&&(B=d,d=null,O=O||!1),y.isFunction(O)&&(B=O,O=!1),m instanceof E)z=m;else{if(typeof m!="string")throw new Error("template names must be a string: "+m);for(var Z=0;Z<this.loaders.length;Z++){var se=this.loaders[Z];if(z=se.cache[this.resolveTemplate(se,d,m)],z)break}}if(z)if(O&&z.compile(),B){B(null,z);return}else return z;var ie,Q=function(U,G){if(!G&&!U&&!P&&(U=new Error("template not found: "+m)),U)if(B){B(U);return}else throw U;var V;G?(V=new E(G.src,F,G.path,O),G.noCache||(G.loader.cache[m]=V)):V=new E(s,F,"",O),B?B(null,V):ie=V};return y.asyncIter(this.loaders,function(U,G,V,re){function ue(me,oe){me?re(me):oe?(oe.loader=U,re(null,oe)):V()}m=J.resolveTemplate(U,d,m),U.async?U.getSource(m,ue):ue(null,U.getSource(m))},Q),ie},N.express=function(m){return u(this,m)},N.render=function(m,O,d){y.isFunction(O)&&(d=O,O=null);var P=null;return this.getTemplate(m,function(B,F){if(B&&d)l(d,B);else{if(B)throw B;P=F.render(O,d)}}),P},N.renderString=function(m,O,d,P){y.isFunction(d)&&(P=d,d={}),d=d||{};var B=new E(m,this,d.path);return B.render(O,P)},N.waterfall=function(m,O,d){return b(m,O,d)},A})(c),f=(function(T){_(A,T);function A(){return T.apply(this,arguments)||this}var N=A.prototype;return N.init=function(m,O,d){var P=this;this.env=d||new h,this.ctx=y.extend({},m),this.blocks={},this.exported=[],y.keys(O).forEach(function(B){P.addBlock(B,O[B])})},N.lookup=function(m){return m in this.env.globals&&!(m in this.ctx)?this.env.globals[m]:this.ctx[m]},N.setVariable=function(m,O){this.ctx[m]=O},N.getVariables=function(){return this.ctx},N.addBlock=function(m,O){return this.blocks[m]=this.blocks[m]||[],this.blocks[m].push(O),this},N.getBlock=function(m){if(!this.blocks[m])throw new Error('unknown block "'+m+'"');return this.blocks[m][0]},N.getSuper=function(m,O,d,P,B,F){var J=y.indexOf(this.blocks[O]||[],d),z=this.blocks[O][J+1],Z=this;if(J===-1||!z)throw new Error('no super block available for "'+O+'"');z(m,Z,P,B,F)},N.addExport=function(m){this.exported.push(m)},N.getExported=function(){var m=this,O={};return this.exported.forEach(function(d){O[d]=m.ctx[d]}),O},A})(g),E=(function(T){_(A,T);function A(){return T.apply(this,arguments)||this}var N=A.prototype;return N.init=function(m,O,d,P){if(this.env=O||new h,y.isObject(m))switch(m.type){case"code":this.tmplProps=m.obj;break;case"string":this.tmplStr=m.obj;break;default:throw new Error("Unexpected template object type "+m.type+"; expected 'code', or 'string'")}else if(y.isString(m))this.tmplStr=m;else throw new Error("src must be a string or an object describing the source");if(this.path=d,P)try{this._compile()}catch(B){throw y._prettifyError(this.path,this.env.opts.dev,B)}else this.compiled=!1},N.render=function(m,O,d){var P=this;typeof m=="function"?(d=m,m={}):typeof O=="function"&&(d=O,O=null);var B=!O;try{this.compile()}catch(ie){var F=y._prettifyError(this.path,this.env.opts.dev,ie);if(d)return l(d,F);throw F}var J=new f(m||{},this.blocks,this.env),z=O?O.push(!0):new r;z.topLevel=!0;var Z=null,se=!1;return this.rootRenderFunc(this.env,J,z,e,function(ie,Q){if(!(se&&d&&typeof Q<"u"))if(ie&&(ie=y._prettifyError(P.path,P.env.opts.dev,ie),se=!0),d)B?l(d,ie,Q):d(ie,Q);else{if(ie)throw ie;Z=Q}}),Z},N.getExported=function(m,O,d){typeof m=="function"&&(d=m,m={}),typeof O=="function"&&(d=O,O=null);try{this.compile()}catch(F){if(d)return d(F);throw F}var P=O?O.push():new r;P.topLevel=!0;var B=new f(m||{},this.blocks,this.env);this.rootRenderFunc(this.env,B,P,e,function(F){F?d(F,null):d(null,B.getExported())})},N.compile=function(){this.compiled||this._compile()},N._compile=function(){var m;if(this.tmplProps)m=this.tmplProps;else{var O=w.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts),d=new Function(O);m=d()}this.blocks=this._getBlocks(m),this.rootRenderFunc=m.root,this.compiled=!0},N._getBlocks=function(m){var O={};return y.keys(m).forEach(function(d){d.slice(0,2)==="b_"&&(O[d.slice(2)]=m[d])}),O},A})(g);D.exports={Environment:h,Template:E}}),(function(D,I,L){function _(R,C){R.prototype=Object.create(C.prototype),R.prototype.constructor=R,x(R,C)}function x(R,C){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,t){return k.__proto__=t,k},x(R,C)}var p=L(9),b=L(3),y=L(1).Obj,w=L(0),j=(function(R){_(C,R);function C(){return R.apply(this,arguments)||this}var k=C.prototype;return k.init=function(t){this.tokens=t,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},k.nextToken=function(t){var n;if(this.peeked)if(!t&&this.peeked.type===p.TOKEN_WHITESPACE)this.peeked=null;else return n=this.peeked,this.peeked=null,n;if(n=this.tokens.nextToken(),!t)for(;n&&n.type===p.TOKEN_WHITESPACE;)n=this.tokens.nextToken();return n},k.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},k.pushToken=function(t){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=t},k.error=function(t,n,a){if(n===void 0||a===void 0){var o=this.peekToken()||{};n=o.lineno,a=o.colno}return n!==void 0&&(n+=1),a!==void 0&&(a+=1),new w.TemplateError(t,n,a)},k.fail=function(t,n,a){throw this.error(t,n,a)},k.skip=function(t){var n=this.nextToken();return!n||n.type!==t?(this.pushToken(n),!1):!0},k.expect=function(t){var n=this.nextToken();return n.type!==t&&this.fail("expected "+t+", got "+n.type,n.lineno,n.colno),n},k.skipValue=function(t,n){var a=this.nextToken();return!a||a.type!==t||a.value!==n?(this.pushToken(a),!1):!0},k.skipSymbol=function(t){return this.skipValue(p.TOKEN_SYMBOL,t)},k.advanceAfterBlockEnd=function(t){var n;return t||(n=this.peekToken(),n||this.fail("unexpected end of file"),n.type!==p.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),t=this.nextToken().value),n=this.nextToken(),n&&n.type===p.TOKEN_BLOCK_END?n.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+t+" statement"),n},k.advanceAfterVariableEnd=function(){var t=this.nextToken();t&&t.type===p.TOKEN_VARIABLE_END?this.dropLeadingWhitespace=t.value.charAt(t.value.length-this.tokens.tags.VARIABLE_END.length-1)==="-":(this.pushToken(t),this.fail("expected variable end"))},k.parseFor=function(){var t=this.peekToken(),n,a;this.skipSymbol("for")?(n=new b.For(t.lineno,t.colno),a="endfor"):this.skipSymbol("asyncEach")?(n=new b.AsyncEach(t.lineno,t.colno),a="endeach"):this.skipSymbol("asyncAll")?(n=new b.AsyncAll(t.lineno,t.colno),a="endall"):this.fail("parseFor: expected for{Async}",t.lineno,t.colno),n.name=this.parsePrimary(),n.name instanceof b.Symbol||this.fail("parseFor: variable name expected for loop");var o=this.peekToken().type;if(o===p.TOKEN_COMMA){var g=n.name;for(n.name=new b.Array(g.lineno,g.colno),n.name.addChild(g);this.skip(p.TOKEN_COMMA);){var c=this.parsePrimary();n.name.addChild(c)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',t.lineno,t.colno),n.arr=this.parseExpression(),this.advanceAfterBlockEnd(t.value),n.body=this.parseUntilBlocks(a,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),n.else_=this.parseUntilBlocks(a)),this.advanceAfterBlockEnd(),n},k.parseMacro=function(){var t=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var n=this.parsePrimary(!0),a=this.parseSignature(),o=new b.Macro(t.lineno,t.colno,n,a);return this.advanceAfterBlockEnd(t.value),o.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),o},k.parseCall=function(){var t=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var n=this.parseSignature(!0)||new b.NodeList,a=this.parsePrimary();this.advanceAfterBlockEnd(t.value);var o=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var g=new b.Symbol(t.lineno,t.colno,"caller"),c=new b.Caller(t.lineno,t.colno,g,n,o),e=a.args.children;e[e.length-1]instanceof b.KeywordArgs||e.push(new b.KeywordArgs);var i=e[e.length-1];return i.addChild(new b.Pair(t.lineno,t.colno,g,c)),new b.Output(t.lineno,t.colno,[a])},k.parseWithContext=function(){var t=this.peekToken(),n=null;return this.skipSymbol("with")?n=!0:this.skipSymbol("without")&&(n=!1),n!==null&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",t.lineno,t.colno)),n},k.parseImport=function(){var t=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",t.lineno,t.colno);var n=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',t.lineno,t.colno);var a=this.parseExpression(),o=this.parseWithContext(),g=new b.Import(t.lineno,t.colno,n,a,o);return this.advanceAfterBlockEnd(t.value),g},k.parseFrom=function(){var t=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var n=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",t.lineno,t.colno);for(var a=new b.NodeList,o;;){var g=this.peekToken();if(g.type===p.TOKEN_BLOCK_END){a.children.length||this.fail("parseFrom: Expected at least one import name",t.lineno,t.colno),g.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0),this.nextToken();break}a.children.length>0&&!this.skip(p.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",t.lineno,t.colno);var c=this.parsePrimary();if(c.value.charAt(0)==="_"&&this.fail("parseFrom: names starting with an underscore cannot be imported",c.lineno,c.colno),this.skipSymbol("as")){var e=this.parsePrimary();a.addChild(new b.Pair(c.lineno,c.colno,c,e))}else a.addChild(c);o=this.parseWithContext()}return new b.FromImport(t.lineno,t.colno,n,a,o)},k.parseBlock=function(){var t=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",t.lineno,t.colno);var n=new b.Block(t.lineno,t.colno);n.name=this.parsePrimary(),n.name instanceof b.Symbol||this.fail("parseBlock: variable name expected",t.lineno,t.colno),this.advanceAfterBlockEnd(t.value),n.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(n.name.value);var a=this.peekToken();return a||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(a.value),n},k.parseExtends=function(){var t="extends",n=this.peekToken();this.skipSymbol(t)||this.fail("parseTemplateRef: expected "+t);var a=new b.Extends(n.lineno,n.colno);return a.template=this.parseExpression(),this.advanceAfterBlockEnd(n.value),a},k.parseInclude=function(){var t="include",n=this.peekToken();this.skipSymbol(t)||this.fail("parseInclude: expected "+t);var a=new b.Include(n.lineno,n.colno);return a.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(a.ignoreMissing=!0),this.advanceAfterBlockEnd(n.value),a},k.parseIf=function(){var t=this.peekToken(),n;this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?n=new b.If(t.lineno,t.colno):this.skipSymbol("ifAsync")?n=new b.IfAsync(t.lineno,t.colno):this.fail("parseIf: expected if, elif, or elseif",t.lineno,t.colno),n.cond=this.parseExpression(),this.advanceAfterBlockEnd(t.value),n.body=this.parseUntilBlocks("elif","elseif","else","endif");var a=this.peekToken();switch(a&&a.value){case"elseif":case"elif":n.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),n.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":n.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return n},k.parseSet=function(){var t=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",t.lineno,t.colno);for(var n=new b.Set(t.lineno,t.colno,[]),a;(a=this.parsePrimary())&&(n.targets.push(a),!!this.skip(p.TOKEN_COMMA)););return this.skipValue(p.TOKEN_OPERATOR,"=")?(n.value=this.parseExpression(),this.advanceAfterBlockEnd(t.value)):this.skip(p.TOKEN_BLOCK_END)?(n.body=new b.Capture(t.lineno,t.colno,this.parseUntilBlocks("endset")),n.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",t.lineno,t.colno),n},k.parseSwitch=function(){var t="switch",n="endswitch",a="case",o="default",g=this.peekToken();!this.skipSymbol(t)&&!this.skipSymbol(a)&&!this.skipSymbol(o)&&this.fail('parseSwitch: expected "switch," "case" or "default"',g.lineno,g.colno);var c=this.parseExpression();this.advanceAfterBlockEnd(t),this.parseUntilBlocks(a,o,n);var e=this.peekToken(),i=[],r;do{this.skipSymbol(a);var u=this.parseExpression();this.advanceAfterBlockEnd(t);var l=this.parseUntilBlocks(a,o,n);i.push(new b.Case(e.line,e.col,u,l)),e=this.peekToken()}while(e&&e.value===a);switch(e.value){case o:this.advanceAfterBlockEnd(),r=this.parseUntilBlocks(n),this.advanceAfterBlockEnd();break;case n:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new b.Switch(g.lineno,g.colno,c,i,r)},k.parseStatement=function(){var t=this.peekToken(),n;if(t.type!==p.TOKEN_SYMBOL&&this.fail("tag name expected",t.lineno,t.colno),this.breakOnBlocks&&w.indexOf(this.breakOnBlocks,t.value)!==-1)return null;switch(t.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var a=0;a<this.extensions.length;a++){var o=this.extensions[a];if(w.indexOf(o.tags||[],t.value)!==-1)return o.parse(this,b,p)}this.fail("unknown block tag: "+t.value,t.lineno,t.colno)}return n},k.parseRaw=function(t){t=t||"raw";for(var n="end"+t,a=new RegExp("([\\s\\S]*?){%\\s*("+t+"|"+n+")\\s*(?=%})%}"),o=1,g="",c=null,e=this.advanceAfterBlockEnd();(c=this.tokens._extractRegex(a))&&o>0;){var i=c[0],r=c[1],u=c[2];u===t?o+=1:u===n&&(o-=1),o===0?(g+=r,this.tokens.backN(i.length-r.length)):g+=i}return new b.Output(e.lineno,e.colno,[new b.TemplateData(e.lineno,e.colno,g)])},k.parsePostfix=function(t){for(var n,a=this.peekToken();a;){if(a.type===p.TOKEN_LEFT_PAREN)t=new b.FunCall(a.lineno,a.colno,t,this.parseSignature());else if(a.type===p.TOKEN_LEFT_BRACKET)n=this.parseAggregate(),n.children.length>1&&this.fail("invalid index"),t=new b.LookupVal(a.lineno,a.colno,t,n.children[0]);else if(a.type===p.TOKEN_OPERATOR&&a.value==="."){this.nextToken();var o=this.nextToken();o.type!==p.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+o.value,o.lineno,o.colno),n=new b.Literal(o.lineno,o.colno,o.value),t=new b.LookupVal(a.lineno,a.colno,t,n)}else break;a=this.peekToken()}return t},k.parseExpression=function(){var t=this.parseInlineIf();return t},k.parseInlineIf=function(){var t=this.parseOr();if(this.skipSymbol("if")){var n=this.parseOr(),a=t;t=new b.InlineIf(t.lineno,t.colno),t.body=a,t.cond=n,this.skipSymbol("else")?t.else_=this.parseOr():t.else_=null}return t},k.parseOr=function(){for(var t=this.parseAnd();this.skipSymbol("or");){var n=this.parseAnd();t=new b.Or(t.lineno,t.colno,t,n)}return t},k.parseAnd=function(){for(var t=this.parseNot();this.skipSymbol("and");){var n=this.parseNot();t=new b.And(t.lineno,t.colno,t,n)}return t},k.parseNot=function(){var t=this.peekToken();return this.skipSymbol("not")?new b.Not(t.lineno,t.colno,this.parseNot()):this.parseIn()},k.parseIn=function(){for(var t=this.parseIs();;){var n=this.nextToken();if(!n)break;var a=n.type===p.TOKEN_SYMBOL&&n.value==="not";if(a||this.pushToken(n),this.skipSymbol("in")){var o=this.parseIs();t=new b.In(t.lineno,t.colno,t,o),a&&(t=new b.Not(t.lineno,t.colno,t))}else{a&&this.pushToken(n);break}}return t},k.parseIs=function(){var t=this.parseCompare();if(this.skipSymbol("is")){var n=this.skipSymbol("not"),a=this.parseCompare();t=new b.Is(t.lineno,t.colno,t,a),n&&(t=new b.Not(t.lineno,t.colno,t))}return t},k.parseCompare=function(){for(var t=["==","===","!=","!==","<",">","<=",">="],n=this.parseConcat(),a=[];;){var o=this.nextToken();if(o)if(t.indexOf(o.value)!==-1)a.push(new b.CompareOperand(o.lineno,o.colno,this.parseConcat(),o.value));else{this.pushToken(o);break}else break}return a.length?new b.Compare(a[0].lineno,a[0].colno,n,a):n},k.parseConcat=function(){for(var t=this.parseAdd();this.skipValue(p.TOKEN_TILDE,"~");){var n=this.parseAdd();t=new b.Concat(t.lineno,t.colno,t,n)}return t},k.parseAdd=function(){for(var t=this.parseSub();this.skipValue(p.TOKEN_OPERATOR,"+");){var n=this.parseSub();t=new b.Add(t.lineno,t.colno,t,n)}return t},k.parseSub=function(){for(var t=this.parseMul();this.skipValue(p.TOKEN_OPERATOR,"-");){var n=this.parseMul();t=new b.Sub(t.lineno,t.colno,t,n)}return t},k.parseMul=function(){for(var t=this.parseDiv();this.skipValue(p.TOKEN_OPERATOR,"*");){var n=this.parseDiv();t=new b.Mul(t.lineno,t.colno,t,n)}return t},k.parseDiv=function(){for(var t=this.parseFloorDiv();this.skipValue(p.TOKEN_OPERATOR,"/");){var n=this.parseFloorDiv();t=new b.Div(t.lineno,t.colno,t,n)}return t},k.parseFloorDiv=function(){for(var t=this.parseMod();this.skipValue(p.TOKEN_OPERATOR,"//");){var n=this.parseMod();t=new b.FloorDiv(t.lineno,t.colno,t,n)}return t},k.parseMod=function(){for(var t=this.parsePow();this.skipValue(p.TOKEN_OPERATOR,"%");){var n=this.parsePow();t=new b.Mod(t.lineno,t.colno,t,n)}return t},k.parsePow=function(){for(var t=this.parseUnary();this.skipValue(p.TOKEN_OPERATOR,"**");){var n=this.parseUnary();t=new b.Pow(t.lineno,t.colno,t,n)}return t},k.parseUnary=function(t){var n=this.peekToken(),a;return this.skipValue(p.TOKEN_OPERATOR,"-")?a=new b.Neg(n.lineno,n.colno,this.parseUnary(!0)):this.skipValue(p.TOKEN_OPERATOR,"+")?a=new b.Pos(n.lineno,n.colno,this.parseUnary(!0)):a=this.parsePrimary(),t||(a=this.parseFilter(a)),a},k.parsePrimary=function(t){var n=this.nextToken(),a,o=null;if(n?n.type===p.TOKEN_STRING?a=n.value:n.type===p.TOKEN_INT?a=parseInt(n.value,10):n.type===p.TOKEN_FLOAT?a=parseFloat(n.value):n.type===p.TOKEN_BOOLEAN?n.value==="true"?a=!0:n.value==="false"?a=!1:this.fail("invalid boolean: "+n.value,n.lineno,n.colno):n.type===p.TOKEN_NONE?a=null:n.type===p.TOKEN_REGEX&&(a=new RegExp(n.value.body,n.value.flags)):this.fail("expected expression, got end of file"),a!==void 0?o=new b.Literal(n.lineno,n.colno,a):n.type===p.TOKEN_SYMBOL?o=new b.Symbol(n.lineno,n.colno,n.value):(this.pushToken(n),o=this.parseAggregate()),t||(o=this.parsePostfix(o)),o)return o;throw this.error("unexpected token: "+n.value,n.lineno,n.colno)},k.parseFilterName=function(){for(var t=this.expect(p.TOKEN_SYMBOL),n=t.value;this.skipValue(p.TOKEN_OPERATOR,".");)n+="."+this.expect(p.TOKEN_SYMBOL).value;return new b.Symbol(t.lineno,t.colno,n)},k.parseFilterArgs=function(t){if(this.peekToken().type===p.TOKEN_LEFT_PAREN){var n=this.parsePostfix(t);return n.args.children}return[]},k.parseFilter=function(t){for(;this.skip(p.TOKEN_PIPE);){var n=this.parseFilterName();t=new b.Filter(n.lineno,n.colno,n,new b.NodeList(n.lineno,n.colno,[t].concat(this.parseFilterArgs(t))))}return t},k.parseFilterStatement=function(){var t=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var n=this.parseFilterName(),a=this.parseFilterArgs(n);this.advanceAfterBlockEnd(t.value);var o=new b.Capture(n.lineno,n.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var g=new b.Filter(n.lineno,n.colno,n,new b.NodeList(n.lineno,n.colno,[o].concat(a)));return new b.Output(n.lineno,n.colno,[g])},k.parseAggregate=function(){var t=this.nextToken(),n;switch(t.type){case p.TOKEN_LEFT_PAREN:n=new b.Group(t.lineno,t.colno);break;case p.TOKEN_LEFT_BRACKET:n=new b.Array(t.lineno,t.colno);break;case p.TOKEN_LEFT_CURLY:n=new b.Dict(t.lineno,t.colno);break;default:return null}for(;;){var a=this.peekToken().type;if(a===p.TOKEN_RIGHT_PAREN||a===p.TOKEN_RIGHT_BRACKET||a===p.TOKEN_RIGHT_CURLY){this.nextToken();break}if(n.children.length>0&&(this.skip(p.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",t.lineno,t.colno)),n instanceof b.Dict){var o=this.parsePrimary();this.skip(p.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",t.lineno,t.colno);var g=this.parseExpression();n.addChild(new b.Pair(o.lineno,o.colno,o,g))}else{var c=this.parseExpression();n.addChild(c)}}return n},k.parseSignature=function(t,n){var a=this.peekToken();if(!n&&a.type!==p.TOKEN_LEFT_PAREN){if(t)return null;this.fail("expected arguments",a.lineno,a.colno)}a.type===p.TOKEN_LEFT_PAREN&&(a=this.nextToken());for(var o=new b.NodeList(a.lineno,a.colno),g=new b.KeywordArgs(a.lineno,a.colno),c=!1;;){if(a=this.peekToken(),!n&&a.type===p.TOKEN_RIGHT_PAREN){this.nextToken();break}else if(n&&a.type===p.TOKEN_BLOCK_END)break;if(c&&!this.skip(p.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",a.lineno,a.colno);else{var e=this.parseExpression();this.skipValue(p.TOKEN_OPERATOR,"=")?g.addChild(new b.Pair(e.lineno,e.colno,e,this.parseExpression())):o.addChild(e)}c=!0}return g.children.length&&o.addChild(g),o},k.parseUntilBlocks=function(){for(var t=this.breakOnBlocks,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];this.breakOnBlocks=a;var g=this.parse();return this.breakOnBlocks=t,g},k.parseNodes=function(){for(var t,n=[];t=this.nextToken();)if(t.type===p.TOKEN_DATA){var a=t.value,o=this.peekToken(),g=o&&o.value;this.dropLeadingWhitespace&&(a=a.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),o&&(o.type===p.TOKEN_BLOCK_START&&g.charAt(g.length-1)==="-"||o.type===p.TOKEN_VARIABLE_START&&g.charAt(this.tokens.tags.VARIABLE_START.length)==="-"||o.type===p.TOKEN_COMMENT&&g.charAt(this.tokens.tags.COMMENT_START.length)==="-")&&(a=a.replace(/\s*$/,"")),n.push(new b.Output(t.lineno,t.colno,[new b.TemplateData(t.lineno,t.colno,a)]))}else if(t.type===p.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var c=this.parseStatement();if(!c)break;n.push(c)}else if(t.type===p.TOKEN_VARIABLE_START){var e=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),n.push(new b.Output(t.lineno,t.colno,[e]))}else t.type===p.TOKEN_COMMENT?this.dropLeadingWhitespace=t.value.charAt(t.value.length-this.tokens.tags.COMMENT_END.length-1)==="-":this.fail("Unexpected token at top-level: "+t.type,t.lineno,t.colno);return n},k.parse=function(){return new b.NodeList(0,0,this.parseNodes())},k.parseAsRoot=function(){return new b.Root(0,0,this.parseNodes())},C})(y);D.exports={parse:function(R,C,k){var t=new j(p.lex(R,k));return C!==void 0&&(t.extensions=C),t.parseAsRoot()},Parser:j}}),(function(D,I,L){var _=L(0),x=` 
	\r`,p="()[]{}%*-+~/#,:|.<>=!",b="0123456789",y="{%",w="%}",j="{{",R="}}",C="{#",k="#}",t="string",n="whitespace",a="data",o="block-start",g="block-end",c="variable-start",e="variable-end",i="comment",r="left-paren",u="right-paren",l="left-bracket",s="right-bracket",h="left-curly",f="right-curly",E="operator",T="comma",A="colon",N="tilde",m="pipe",O="int",d="float",P="boolean",B="none",F="symbol",J="special",z="regex";function Z(ie,Q,U,G){return{type:ie,value:Q,lineno:U,colno:G}}var se=(function(){function ie(U,G){this.str=U,this.index=0,this.len=U.length,this.lineno=0,this.colno=0,this.in_code=!1,G=G||{};var V=G.tags||{};this.tags={BLOCK_START:V.blockStart||y,BLOCK_END:V.blockEnd||w,VARIABLE_START:V.variableStart||j,VARIABLE_END:V.variableEnd||R,COMMENT_START:V.commentStart||C,COMMENT_END:V.commentEnd||k},this.trimBlocks=!!G.trimBlocks,this.lstripBlocks=!!G.lstripBlocks}var Q=ie.prototype;return Q.nextToken=function(){var U=this.lineno,G=this.colno,V;if(this.in_code){var re=this.current();if(this.isFinished())return null;if(re==='"'||re==="'")return Z(t,this._parseString(re),U,G);if(V=this._extract(x))return Z(n,V,U,G);if((V=this._extractString(this.tags.BLOCK_END))||(V=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&(re=this.current(),re===`
`?this.forward():re==="\r"&&(this.forward(),re=this.current(),re===`
`?this.forward():this.back())),Z(g,V,U,G);if((V=this._extractString(this.tags.VARIABLE_END))||(V=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,Z(e,V,U,G);if(re==="r"&&this.str.charAt(this.index+1)==="/"){this.forwardN(2);for(var ue="";!this.isFinished();)if(this.current()==="/"&&this.previous()!=="\\"){this.forward();break}else ue+=this.current(),this.forward();for(var me=["g","i","m","y"],oe="";!this.isFinished();){var ye=me.indexOf(this.current())!==-1;if(ye)oe+=this.current(),this.forward();else break}return Z(z,{body:ue,flags:oe},U,G)}else if(p.indexOf(re)!==-1){this.forward();var v=["==","===","!=","!==","<=",">=","//","**"],S=re+this.current(),K;switch(_.indexOf(v,S)!==-1&&(this.forward(),re=S,_.indexOf(v,S+this.current())!==-1&&(re=S+this.current(),this.forward())),re){case"(":K=r;break;case")":K=u;break;case"[":K=l;break;case"]":K=s;break;case"{":K=h;break;case"}":K=f;break;case",":K=T;break;case":":K=A;break;case"~":K=N;break;case"|":K=m;break;default:K=E}return Z(K,re,U,G)}else if(V=this._extractUntil(x+p),V.match(/^[-+]?[0-9]+$/))if(this.current()==="."){this.forward();var M=this._extract(b);return Z(d,V+"."+M,U,G)}else return Z(O,V,U,G);else{if(V.match(/^(true|false)$/))return Z(P,V,U,G);if(V==="none"||V==="null")return Z(B,V,U,G);if(V)return Z(F,V,U,G);throw new Error("Unexpected value while parsing: "+V)}}else{var Y=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((V=this._extractString(this.tags.BLOCK_START+"-"))||(V=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,Z(o,V,U,G);if((V=this._extractString(this.tags.VARIABLE_START+"-"))||(V=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,Z(c,V,U,G);V="";var q,ee=!1;for(this._matches(this.tags.COMMENT_START)&&(ee=!0,V=this._extractString(this.tags.COMMENT_START));(q=this._extractUntil(Y))!==null;)if(V+=q,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!ee){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=V.length){var X=V.slice(-this.colno);if(/^\s+$/.test(X)&&(V=V.slice(0,-this.colno),!V.length))return this.nextToken()}break}else if(this._matches(this.tags.COMMENT_END)){if(!ee)throw new Error("unexpected end of comment");V+=this._extractString(this.tags.COMMENT_END);break}else V+=this.current(),this.forward();if(q===null&&ee)throw new Error("expected end of comment, got end of file");return Z(ee?i:a,V,U,G)}},Q._parseString=function(U){this.forward();for(var G="";!this.isFinished()&&this.current()!==U;){var V=this.current();if(V==="\\"){switch(this.forward(),this.current()){case"n":G+=`
`;break;case"t":G+="	";break;case"r":G+="\r";break;default:G+=this.current()}this.forward()}else G+=V,this.forward()}return this.forward(),G},Q._matches=function(U){if(this.index+U.length>this.len)return null;var G=this.str.slice(this.index,this.index+U.length);return G===U},Q._extractString=function(U){return this._matches(U)?(this.forwardN(U.length),U):null},Q._extractUntil=function(U){return this._extractMatching(!0,U||"")},Q._extract=function(U){return this._extractMatching(!1,U)},Q._extractMatching=function(U,G){if(this.isFinished())return null;var V=G.indexOf(this.current());if(U&&V===-1||!U&&V!==-1){var re=this.current();this.forward();for(var ue=G.indexOf(this.current());(U&&ue===-1||!U&&ue!==-1)&&!this.isFinished();)re+=this.current(),this.forward(),ue=G.indexOf(this.current());return re}return""},Q._extractRegex=function(U){var G=this.currentStr().match(U);return G?(this.forwardN(G[0].length),G):null},Q.isFinished=function(){return this.index>=this.len},Q.forwardN=function(U){for(var G=0;G<U;G++)this.forward()},Q.forward=function(){this.index++,this.previous()===`
`?(this.lineno++,this.colno=0):this.colno++},Q.backN=function(U){for(var G=0;G<U;G++)this.back()},Q.back=function(){if(this.index--,this.current()===`
`){this.lineno--;var U=this.src.lastIndexOf(`
`,this.index-1);U===-1?this.colno=this.index:this.colno=this.index-U}else this.colno--},Q.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},Q.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},Q.previous=function(){return this.str.charAt(this.index-1)},ie})();D.exports={lex:function(ie,Q){return new se(ie,Q)},TOKEN_STRING:t,TOKEN_WHITESPACE:n,TOKEN_DATA:a,TOKEN_BLOCK_START:o,TOKEN_BLOCK_END:g,TOKEN_VARIABLE_START:c,TOKEN_VARIABLE_END:e,TOKEN_COMMENT:i,TOKEN_LEFT_PAREN:r,TOKEN_RIGHT_PAREN:u,TOKEN_LEFT_BRACKET:l,TOKEN_RIGHT_BRACKET:s,TOKEN_LEFT_CURLY:h,TOKEN_RIGHT_CURLY:f,TOKEN_OPERATOR:E,TOKEN_COMMA:T,TOKEN_COLON:A,TOKEN_TILDE:N,TOKEN_PIPE:m,TOKEN_INT:O,TOKEN_FLOAT:d,TOKEN_BOOLEAN:P,TOKEN_NONE:B,TOKEN_SYMBOL:F,TOKEN_SPECIAL:J,TOKEN_REGEX:z}}),(function(D,I,L){function _(j,R){j.prototype=Object.create(R.prototype),j.prototype.constructor=j,x(j,R)}function x(j,R){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,k){return C.__proto__=k,C},x(j,R)}var p=L(6),b=L(19),y=b.PrecompiledLoader,w=(function(j){_(R,j);function R(k,t){var n;return n=j.call(this)||this,n.baseURL=k||".",t=t||{},n.useCache=!!t.useCache,n.async=!!t.async,n}var C=R.prototype;return C.resolve=function(k,t){throw new Error("relative templates not support in the browser yet")},C.getSource=function(k,t){var n=this,a=this.useCache,o;return this.fetch(this.baseURL+"/"+k,function(g,c){if(g)if(t)t(g.content);else if(g.status===404)o=null;else throw g.content;else o={src:c,path:k,noCache:!a},n.emit("load",k,o),t&&t(null,o)}),o},C.fetch=function(k,t){if(typeof window>"u")throw new Error("WebLoader can only by used in a browser");var n=new XMLHttpRequest,a=!0;n.onreadystatechange=function(){n.readyState===4&&a&&(a=!1,n.status===0||n.status===200?t(null,n.responseText):t({status:n.status,content:n.responseText}))},k+=(k.indexOf("?")===-1?"?":"&")+"s="+new Date().getTime(),n.open("GET",k,this.async),n.send()},R})(p);D.exports={WebLoader:w,PrecompiledLoader:y}}),(function(D,I,L){var _=L(0),x=L(7),p=x.Environment,b=x.Template,y=L(6),w=L(10),j=L(23),R=L(5),C=L(8),k=L(9),t=L(2),n=L(3),a=L(25),o;function g(c,e){e=e||{},_.isObject(c)&&(e=c,c=null);var i;return w.FileSystemLoader?i=new w.FileSystemLoader(c,{watch:e.watch,noCache:e.noCache}):w.WebLoader&&(i=new w.WebLoader(c,{useCache:e.web&&e.web.useCache,async:e.web&&e.web.async})),o=new p(i,e),e&&e.express&&o.express(e.express),o}D.exports={Environment:p,Template:b,Loader:y,FileSystemLoader:w.FileSystemLoader,NodeResolveLoader:w.NodeResolveLoader,PrecompiledLoader:w.PrecompiledLoader,WebLoader:w.WebLoader,compiler:R,parser:C,lexer:k,runtime:t,lib:_,nodes:n,installJinjaCompat:a,configure:g,reset:function(){o=void 0},compile:function(c,e,i,r){return o||g(),new b(c,e,i,r)},render:function(c,e,i){return o||g(),o.render(c,e,i)},renderString:function(c,e,i){return o||g(),o.renderString(c,e,i)},precompile:j?j.precompile:void 0,precompileString:j?j.precompileString:void 0}}),(function(D,I,L){var _=L(13),x=[],p=[],b=_.makeRequestCallFromTimer(y);function y(){if(p.length)throw p.shift()}D.exports=w;function w(R){var C;x.length?C=x.pop():C=new j,C.task=R,_(C)}function j(){this.task=null}j.prototype.call=function(){try{this.task.call()}catch(R){w.onerror?w.onerror(R):(p.push(R),b())}finally{this.task=null,x[x.length]=this}}}),(function(D,I,L){(function(_){D.exports=x;function x(n){p.length||b(),p[p.length]=n}var p=[],b,y=0,w=1024;function j(){for(;y<p.length;){var n=y;if(y=y+1,p[n].call(),y>w){for(var a=0,o=p.length-y;a<o;a++)p[a]=p[a+y];p.length-=y,y=0}}p.length=0,y=0}var R=typeof _<"u"?_:self,C=R.MutationObserver||R.WebKitMutationObserver;typeof C=="function"?b=k(j):b=t(j),x.requestFlush=b;function k(n){var a=1,o=new C(n),g=document.createTextNode("");return o.observe(g,{characterData:!0}),function(){a=-a,g.data=a}}function t(n){return function(){var a=setTimeout(g,0),o=setInterval(g,50);function g(){clearTimeout(a),clearInterval(o),n()}}}x.makeRequestCallFromTimer=t}).call(I,L(14))}),(function(D,I){var L;L=(function(){return this})();try{L=L||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(L=window)}D.exports=L}),(function(D,I,L){var _,x;(function(p){var b=function(){var C=Array.prototype.slice.call(arguments);typeof C[0]=="function"&&C[0].apply(null,C.splice(1))},y=function(C){typeof setImmediate=="function"?setImmediate(C):typeof process<"u"&&process.nextTick?process.nextTick(C):setTimeout(C,0)},w=function(C){var k=function(t){var n=function(){return C.length&&C[t].apply(null,arguments),n.next()};return n.next=function(){return t<C.length-1?k(t+1):null},n};return k(0)},j=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},R=function(C,k,t){var n=t?y:b;if(k=k||function(){},!j(C)){var a=new Error("First argument to waterfall must be an array of functions");return k(a)}if(!C.length)return k();var o=function(g){return function(c){if(c)k.apply(null,arguments),k=function(){};else{var e=Array.prototype.slice.call(arguments,1),i=g.next();i?e.push(o(i)):e.push(k),n(function(){g.apply(null,e)})}}};o(w(C))()};_=[],x=(function(){return R}).apply(I,_),x!==void 0&&(D.exports=x)})()}),(function(D,I,L){var _=typeof Reflect=="object"?Reflect:null,x=_&&typeof _.apply=="function"?_.apply:function(l,s,h){return Function.prototype.apply.call(l,s,h)},p;_&&typeof _.ownKeys=="function"?p=_.ownKeys:Object.getOwnPropertySymbols?p=function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:p=function(l){return Object.getOwnPropertyNames(l)};function b(l){console&&console.warn&&console.warn(l)}var y=Number.isNaN||function(l){return l!==l};function w(){w.init.call(this)}D.exports=w,D.exports.once=i,w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var j=10;function R(l){if(typeof l!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l)}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return j},set:function(l){if(typeof l!="number"||l<0||y(l))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+l+".");j=l}}),w.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(l){if(typeof l!="number"||l<0||y(l))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+l+".");return this._maxListeners=l,this};function C(l){return l._maxListeners===void 0?w.defaultMaxListeners:l._maxListeners}w.prototype.getMaxListeners=function(){return C(this)},w.prototype.emit=function(l){for(var s=[],h=1;h<arguments.length;h++)s.push(arguments[h]);var f=l==="error",E=this._events;if(E!==void 0)f=f&&E.error===void 0;else if(!f)return!1;if(f){var T;if(s.length>0&&(T=s[0]),T instanceof Error)throw T;var A=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw A.context=T,A}var N=E[l];if(N===void 0)return!1;if(typeof N=="function")x(N,this,s);else for(var m=N.length,O=g(N,m),h=0;h<m;++h)x(O[h],this,s);return!0};function k(l,s,h,f){var E,T,A;if(R(h),T=l._events,T===void 0?(T=l._events=Object.create(null),l._eventsCount=0):(T.newListener!==void 0&&(l.emit("newListener",s,h.listener?h.listener:h),T=l._events),A=T[s]),A===void 0)A=T[s]=h,++l._eventsCount;else if(typeof A=="function"?A=T[s]=f?[h,A]:[A,h]:f?A.unshift(h):A.push(h),E=C(l),E>0&&A.length>E&&!A.warned){A.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+A.length+" "+String(s)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=l,N.type=s,N.count=A.length,b(N)}return l}w.prototype.addListener=function(l,s){return k(this,l,s,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(l,s){return k(this,l,s,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function n(l,s,h){var f={fired:!1,wrapFn:void 0,target:l,type:s,listener:h},E=t.bind(f);return E.listener=h,f.wrapFn=E,E}w.prototype.once=function(l,s){return R(s),this.on(l,n(this,l,s)),this},w.prototype.prependOnceListener=function(l,s){return R(s),this.prependListener(l,n(this,l,s)),this},w.prototype.removeListener=function(l,s){var h,f,E,T,A;if(R(s),f=this._events,f===void 0)return this;if(h=f[l],h===void 0)return this;if(h===s||h.listener===s)--this._eventsCount===0?this._events=Object.create(null):(delete f[l],f.removeListener&&this.emit("removeListener",l,h.listener||s));else if(typeof h!="function"){for(E=-1,T=h.length-1;T>=0;T--)if(h[T]===s||h[T].listener===s){A=h[T].listener,E=T;break}if(E<0)return this;E===0?h.shift():c(h,E),h.length===1&&(f[l]=h[0]),f.removeListener!==void 0&&this.emit("removeListener",l,A||s)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(l){var s,h,f;if(h=this._events,h===void 0)return this;if(h.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):h[l]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete h[l]),this;if(arguments.length===0){var E=Object.keys(h),T;for(f=0;f<E.length;++f)T=E[f],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(s=h[l],typeof s=="function")this.removeListener(l,s);else if(s!==void 0)for(f=s.length-1;f>=0;f--)this.removeListener(l,s[f]);return this};function a(l,s,h){var f=l._events;if(f===void 0)return[];var E=f[s];return E===void 0?[]:typeof E=="function"?h?[E.listener||E]:[E]:h?e(E):g(E,E.length)}w.prototype.listeners=function(l){return a(this,l,!0)},w.prototype.rawListeners=function(l){return a(this,l,!1)},w.listenerCount=function(l,s){return typeof l.listenerCount=="function"?l.listenerCount(s):o.call(l,s)},w.prototype.listenerCount=o;function o(l){var s=this._events;if(s!==void 0){var h=s[l];if(typeof h=="function")return 1;if(h!==void 0)return h.length}return 0}w.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function g(l,s){for(var h=new Array(s),f=0;f<s;++f)h[f]=l[f];return h}function c(l,s){for(;s+1<l.length;s++)l[s]=l[s+1];l.pop()}function e(l){for(var s=new Array(l.length),h=0;h<s.length;++h)s[h]=l[h].listener||l[h];return s}function i(l,s){return new Promise(function(h,f){function E(A){l.removeListener(s,T),f(A)}function T(){typeof l.removeListener=="function"&&l.removeListener("error",E),h([].slice.call(arguments))}u(l,s,T,{once:!0}),s!=="error"&&r(l,E,{once:!0})})}function r(l,s,h){typeof l.on=="function"&&u(l,"error",s,h)}function u(l,s,h,f){if(typeof l.on=="function")f.once?l.once(s,h):l.on(s,h);else if(typeof l.addEventListener=="function")l.addEventListener(s,function E(T){f.once&&l.removeEventListener(s,E),h(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof l)}}),(function(D,I,L){var _=L(3),x=L(0),p=0;function b(){return"hole_"+p++}function y(o,g){for(var c=null,e=0;e<o.length;e++){var i=g(o[e]);i!==o[e]&&(c||(c=o.slice()),c[e]=i)}return c||o}function w(o,g,c){if(!(o instanceof _.Node))return o;if(!c){var e=g(o);if(e&&e!==o)return e}if(o instanceof _.NodeList){var i=y(o.children,function(h){return w(h,g,c)});i!==o.children&&(o=new _[o.typename](o.lineno,o.colno,i))}else if(o instanceof _.CallExtension){var r=w(o.args,g,c),u=y(o.contentArgs,function(h){return w(h,g,c)});(r!==o.args||u!==o.contentArgs)&&(o=new _[o.typename](o.extName,o.prop,r,u))}else{var l=o.fields.map(function(h){return o[h]}),s=y(l,function(h){return w(h,g,c)});s!==l&&(o=new _[o.typename](o.lineno,o.colno),s.forEach(function(h,f){o[o.fields[f]]=h}))}return c&&g(o)||o}function j(o,g){return w(o,g,!0)}function R(o,g,c){var e=[],i=j(c?o[c]:o,function(r){var u;return r instanceof _.Block?r:((r instanceof _.Filter&&x.indexOf(g,r.name.value)!==-1||r instanceof _.CallExtensionAsync)&&(u=new _.Symbol(r.lineno,r.colno,b()),e.push(new _.FilterAsync(r.lineno,r.colno,r.name,r.args,u))),u)});return c?o[c]=i:o=i,e.length?(e.push(o),new _.NodeList(o.lineno,o.colno,e)):o}function C(o,g){return j(o,function(c){return c instanceof _.Output?R(c,g):c instanceof _.Set?R(c,g,"value"):c instanceof _.For?R(c,g,"arr"):c instanceof _.If?R(c,g,"cond"):c instanceof _.CallExtension?R(c,g,"args"):void 0})}function k(o){return w(o,function(g){if(g instanceof _.Block){var c=!1,e=b();g.body=w(g.body,function(i){if(i instanceof _.FunCall&&i.name.value==="super")return c=!0,new _.Symbol(i.lineno,i.colno,e)}),c&&g.body.children.unshift(new _.Super(0,0,g.name,new _.Symbol(0,0,e)))}})}function t(o){return j(o,function(g){if(!(!(g instanceof _.If)&&!(g instanceof _.For))){var c=!1;if(w(g,function(e){if(e instanceof _.FilterAsync||e instanceof _.IfAsync||e instanceof _.AsyncEach||e instanceof _.AsyncAll||e instanceof _.CallExtensionAsync)return c=!0,e}),c){if(g instanceof _.If)return new _.IfAsync(g.lineno,g.colno,g.cond,g.body,g.else_);if(g instanceof _.For&&!(g instanceof _.AsyncAll))return new _.AsyncEach(g.lineno,g.colno,g.arr,g.name,g.body,g.else_)}}})}function n(o,g){return t(k(C(o,g)))}function a(o,g){return n(o,g||[])}D.exports={transform:a}}),(function(D,p,L){var _=L(0),x=L(2),p=D.exports={};function b(v,S){return v==null||v===!1?S:v}p.abs=Math.abs;function y(v){return v!==v}function w(v,S,K){var M,Y=[],q=[];for(M=0;M<v.length;M++)M%S===0&&q.length&&(Y.push(q),q=[]),q.push(v[M]);if(q.length){if(K)for(M=q.length;M<S;M++)q.push(K);Y.push(q)}return Y}p.batch=w;function j(v){v=b(v,"");var S=v.toLowerCase();return x.copySafeness(v,S.charAt(0).toUpperCase()+S.slice(1))}p.capitalize=j;function R(v,S){if(v=b(v,""),S=S||80,v.length>=S)return v;var K=S-v.length,M=_.repeat(" ",K/2-K%2),Y=_.repeat(" ",K/2);return x.copySafeness(v,M+v+Y)}p.center=R;function C(v,S,K){return K?v||S:v!==void 0?v:S}p.default=C;function k(v,S,K){if(!_.isObject(v))throw new _.TemplateError("dictsort filter: val must be an object");var M=[];for(var Y in v)M.push([Y,v[Y]]);var q;if(K===void 0||K==="key")q=0;else if(K==="value")q=1;else throw new _.TemplateError("dictsort filter: You can only sort by either key or value");return M.sort(function(ee,X){var ae=ee[q],ce=X[q];return S||(_.isString(ae)&&(ae=ae.toUpperCase()),_.isString(ce)&&(ce=ce.toUpperCase())),ae>ce?1:ae===ce?0:-1}),M}p.dictsort=k;function t(v,S){return JSON.stringify(v,null,S)}p.dump=t;function n(v){return v instanceof x.SafeString?v:(v=v??"",x.markSafe(_.escape(v.toString())))}p.escape=n;function a(v){return v instanceof x.SafeString?v:(v=v??"",x.markSafe(v.toString()))}p.safe=a;function o(v){return v[0]}p.first=o;function g(v){return v=v??"",x.markSafe(_.escape(v.toString()))}p.forceescape=g;function c(v,S){return _.groupBy(v,S,this.env.opts.throwOnUndefined)}p.groupby=c;function e(v,S,K){if(v=b(v,""),v==="")return"";S=S||4;var M=v.split(`
`),Y=_.repeat(" ",S),q=M.map(function(ee,X){return X===0&&!K?ee:""+Y+ee}).join(`
`);return x.copySafeness(v,q)}p.indent=e;function i(v,S,K){return S=S||"",K&&(v=_.map(v,function(M){return M[K]})),v.join(S)}p.join=i;function r(v){return v[v.length-1]}p.last=r;function u(v){var S=b(v,"");return S!==void 0?typeof Map=="function"&&S instanceof Map||typeof Set=="function"&&S instanceof Set?S.size:_.isObject(S)&&!(S instanceof x.SafeString)?_.keys(S).length:S.length:0}p.length=u;function l(v){if(_.isString(v))return v.split("");if(_.isObject(v))return _._entries(v||{}).map(function(S){var K=S[0],M=S[1];return{key:K,value:M}});if(_.isArray(v))return v;throw new _.TemplateError("list filter: type not iterable")}p.list=l;function s(v){return v=b(v,""),v.toLowerCase()}p.lower=s;function h(v){return v==null?"":x.copySafeness(v,v.replace(/\r\n|\n/g,`<br />
`))}p.nl2br=h;function f(v){return v[Math.floor(Math.random()*v.length)]}p.random=f;function E(v){function S(K,M,Y){M===void 0&&(M="truthy");var q=this,ee=q.env.getTest(M);return _.toArray(K).filter(function(X){return ee.call(q,X,Y)===v})}return S}p.reject=E(!1);function T(v,S){return v.filter(function(K){return!K[S]})}p.rejectattr=T,p.select=E(!0);function A(v,S){return v.filter(function(K){return!!K[S]})}p.selectattr=A;function N(v,S,K,M){var Y=v;if(S instanceof RegExp)return v.replace(S,K);typeof M>"u"&&(M=-1);var q="";if(typeof S=="number")S=""+S;else if(typeof S!="string")return v;if(typeof v=="number"&&(v=""+v),typeof v!="string"&&!(v instanceof x.SafeString))return v;if(S==="")return q=K+v.split("").join(K)+K,x.copySafeness(v,q);var ee=v.indexOf(S);if(M===0||ee===-1)return v;for(var X=0,ae=0;ee>-1&&(M===-1||ae<M);)q+=v.substring(X,ee)+K,X=ee+S.length,ae++,ee=v.indexOf(S,X);return X<v.length&&(q+=v.substring(X)),x.copySafeness(Y,q)}p.replace=N;function m(v){var S;return _.isString(v)?S=l(v):S=_.map(v,function(K){return K}),S.reverse(),_.isString(v)?x.copySafeness(v,S.join("")):S}p.reverse=m;function O(v,S,K){S=S||0;var M=Math.pow(10,S),Y;return K==="ceil"?Y=Math.ceil:K==="floor"?Y=Math.floor:Y=Math.round,Y(v*M)/M}p.round=O;function d(v,S,K){for(var M=Math.floor(v.length/S),Y=v.length%S,q=[],ee=0,X=0;X<S;X++){var ae=ee+X*M;X<Y&&ee++;var ce=ee+(X+1)*M,fe=v.slice(ae,ce);K&&X>=Y&&fe.push(K),q.push(fe)}return q}p.slice=d;function P(v,S,K){return K===void 0&&(K=0),S&&(v=_.map(v,function(M){return M[S]})),K+v.reduce(function(M,Y){return M+Y},0)}p.sum=P,p.sort=x.makeMacro(["value","reverse","case_sensitive","attribute"],[],function(v,S,K,M){var Y=this,q=_.map(v,function(X){return X}),ee=_.getAttrGetter(M);return q.sort(function(X,ae){var ce=M?ee(X):X,fe=M?ee(ae):ae;if(Y.env.opts.throwOnUndefined&&M&&(ce===void 0||fe===void 0))throw new TypeError('sort: attribute "'+M+'" resolved to undefined');return!K&&_.isString(ce)&&_.isString(fe)&&(ce=ce.toLowerCase(),fe=fe.toLowerCase()),ce<fe?S?1:-1:ce>fe?S?-1:1:0}),q});function B(v){return x.copySafeness(v,v)}p.string=B;function F(v,S){v=b(v,"");var K=/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,M=z(v.replace(K,"")),Y="";return S?Y=M.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,`
`).replace(/\n\n\n+/g,`

`):Y=M.replace(/\s+/gi," "),x.copySafeness(v,Y)}p.striptags=F;function J(v){v=b(v,"");var S=v.split(" ").map(function(K){return j(K)});return x.copySafeness(v,S.join(" "))}p.title=J;function z(v){return x.copySafeness(v,v.replace(/^\s*|\s*$/g,""))}p.trim=z;function Z(v,S,K,M){var Y=v;if(v=b(v,""),S=S||255,v.length<=S)return v;if(K)v=v.substring(0,S);else{var q=v.lastIndexOf(" ",S);q===-1&&(q=S),v=v.substring(0,q)}return v+=M??"...",x.copySafeness(Y,v)}p.truncate=Z;function se(v){return v=b(v,""),v.toUpperCase()}p.upper=se;function ie(v){var S=encodeURIComponent;if(_.isString(v))return S(v);var K=_.isArray(v)?v:_._entries(v);return K.map(function(M){var Y=M[0],q=M[1];return S(Y)+"="+S(q)}).join("&")}p.urlencode=ie;var Q=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,U=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,G=/^https?:\/\/.*$/,V=/^www\./,re=/\.(?:org|net|com)(?:\:|\/|$)/;function ue(v,S,K){y(S)&&(S=1/0);var M=K===!0?' rel="nofollow"':"",Y=v.split(/(\s+)/).filter(function(q){return q&&q.length}).map(function(q){var ee=q.match(Q),X=ee?ee[1]:q,ae=X.substr(0,S);return G.test(X)?'<a href="'+X+'"'+M+">"+ae+"</a>":V.test(X)?'<a href="http://'+X+'"'+M+">"+ae+"</a>":U.test(X)?'<a href="mailto:'+X+'">'+X+"</a>":re.test(X)?'<a href="http://'+X+'"'+M+">"+ae+"</a>":q});return Y.join("")}p.urlize=ue;function me(v){v=b(v,"");var S=v?v.match(/\w+/g):null;return S?S.length:null}p.wordcount=me;function oe(v,S){var K=parseFloat(v);return y(K)?S:K}p.float=oe;var ye=x.makeMacro(["value","default","base"],[],function(v,S,K){K===void 0&&(K=10);var M=parseInt(v,K);return y(M)?S:M});p.int=ye,p.d=p.default,p.e=p.escape}),(function(D,I,L){function _(y,w){y.prototype=Object.create(w.prototype),y.prototype.constructor=y,x(y,w)}function x(y,w){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,R){return j.__proto__=R,j},x(y,w)}var p=L(6),b=(function(y){_(w,y);function w(R){var C;return C=y.call(this)||this,C.precompiled=R||{},C}var j=w.prototype;return j.getSource=function(R){return this.precompiled[R]?{src:{type:"code",obj:this.precompiled[R]},path:R}:null},w})(p);D.exports={PrecompiledLoader:b}}),(function(D,I,L){var _=L(2).SafeString;function x(f){return typeof f=="function"}I.callable=x;function p(f){return f!==void 0}I.defined=p;function b(f,E){return f%E===0}I.divisibleby=b;function y(f){return f instanceof _}I.escaped=y;function w(f,E){return f===E}I.equalto=w,I.eq=I.equalto,I.sameas=I.equalto;function j(f){return f%2===0}I.even=j;function R(f){return!f}I.falsy=R;function C(f,E){return f>=E}I.ge=C;function k(f,E){return f>E}I.greaterthan=k,I.gt=I.greaterthan;function t(f,E){return f<=E}I.le=t;function n(f,E){return f<E}I.lessthan=n,I.lt=I.lessthan;function a(f){return f.toLowerCase()===f}I.lower=a;function o(f,E){return f!==E}I.ne=o;function g(f){return f===null}I.null=g;function c(f){return typeof f=="number"}I.number=c;function e(f){return f%2===1}I.odd=e;function i(f){return typeof f=="string"}I.string=i;function r(f){return!!f}I.truthy=r;function u(f){return f===void 0}I.undefined=u;function l(f){return f.toUpperCase()===f}I.upper=l;function s(f){return typeof Symbol<"u"?!!f[Symbol.iterator]:Array.isArray(f)||typeof f=="string"}I.iterable=s;function h(f){var E=f!=null&&typeof f=="object"&&!Array.isArray(f);return Set?E&&!(f instanceof Set):E}I.mapping=h}),(function(D,I,L){function _(b){var y=-1;return{current:null,reset:function(){y=-1,this.current=null},next:function(){return y++,y>=b.length&&(y=0),this.current=b[y],this.current}}}function x(b){b=b||",";var y=!0;return function(){var w=y?"":b;return y=!1,w}}function p(){return{range:function(b,y,w){typeof y>"u"?(y=b,b=0,w=1):w||(w=1);var j=[];if(w>0)for(var R=b;R<y;R+=w)j.push(R);else for(var C=b;C>y;C+=w)j.push(C);return j},cycler:function(){return _(Array.prototype.slice.call(arguments))},joiner:function(b){return x(b)}}}D.exports=p}),(function(D,I,L){var _=L(4);D.exports=function(x,p){function b(y,w){if(this.name=y,this.path=y,this.defaultEngine=w.defaultEngine,this.ext=_.extname(y),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=(this.defaultEngine[0]!=="."?".":"")+this.defaultEngine)}return b.prototype.render=function(y,w){x.render(this.name,y,w)},p.set("view",b),p.set("nunjucksEnv",x),x}}),(function(D,I,L){var _=L(4),x=L(4),p=L(0),b=p._prettifyError,y=L(5),w=L(7),j=w.Environment,R=L(24);function C(a,o){return Array.isArray(o)?o.some(function(g){return a.match(g)}):!1}function k(a,o){o=o||{},o.isString=!0;var g=o.env||new j([]),c=o.wrapper||R;if(!o.name)throw new Error('the "name" option is required when compiling a string');return c([n(a,o.name,g)],o)}function t(a,o){o=o||{};var g=o.env||new j([]),c=o.wrapper||R;if(o.isString)return k(a,o);var e=_.existsSync(a)&&_.statSync(a),i=[],r=[];function u(h){_.readdirSync(h).forEach(function(f){var E=x.join(h,f),T=E.substr(x.join(a,"/").length),A=_.statSync(E);A&&A.isDirectory()?(T+="/",C(T,o.exclude)||u(E)):C(T,o.include)&&r.push(E)})}if(e.isFile())i.push(n(_.readFileSync(a,"utf-8"),o.name||a,g));else if(e.isDirectory()){u(a);for(var l=0;l<r.length;l++){var s=r[l].replace(x.join(a,"/"),"");try{i.push(n(_.readFileSync(r[l],"utf-8"),s,g))}catch(h){if(o.force)console.error(h);else throw h}}}return c(i,o)}function n(a,o,g){g=g||new j([]);var c=g.asyncFilters,e=g.extensionsList,i;o=o.replace(/\\/g,"/");try{i=y.compile(a,c,e,o,g.opts)}catch(r){throw b(o,!1,r)}return{name:o,template:i}}D.exports={precompile:t,precompileString:k}}),(function(D,I,L){function _(x,p){var b="";p=p||{};for(var y=0;y<x.length;y++){var w=JSON.stringify(x[y].name),j=x[y].template;b+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+w+`] = (function() {
`+j+`
})();
`,p.asFunction&&(b+="return function(ctx, cb) { return nunjucks.render("+w+`, ctx, cb); }
`),b+=`})();
`}return b}D.exports=_}),(function(D,I,L){function _(){var x=this.runtime,p=this.lib,b=this.compiler.Compiler,y=this.parser.Parser,w=this.nodes,j=this.lexer,R=x.contextOrFrameLookup,C=x.memberLookup,k,t;b&&(k=b.prototype.assertType),y&&(t=y.prototype.parseAggregate);function n(){x.contextOrFrameLookup=R,x.memberLookup=C,b&&(b.prototype.assertType=k),y&&(y.prototype.parseAggregate=t)}x.contextOrFrameLookup=function(r,u,l){var s=R.apply(this,arguments);if(s!==void 0)return s;switch(l){case"True":return!0;case"False":return!1;case"None":return null;default:return}};function a(r){return{index:r.index,lineno:r.lineno,colno:r.colno}}if(w&&b&&y){var o=w.Node.extend("Slice",{fields:["start","stop","step"],init:function(r,u,l,s,h){l=l||new w.Literal(r,u,null),s=s||new w.Literal(r,u,null),h=h||new w.Literal(r,u,1),this.parent(r,u,l,s,h)}});b.prototype.assertType=function(r){r instanceof o||k.apply(this,arguments)},b.prototype.compileSlice=function(r,u){this._emit("("),this._compileExpression(r.start,u),this._emit("),("),this._compileExpression(r.stop,u),this._emit("),("),this._compileExpression(r.step,u),this._emit(")")},y.prototype.parseAggregate=function(){var r=this,u=a(this.tokens);u.colno--,u.index--;try{return t.apply(this)}catch(N){var l=a(this.tokens),s=function(){return p._assign(r.tokens,l),N};p._assign(this.tokens,u),this.peeked=!1;var h=this.peekToken();if(h.type!==j.TOKEN_LEFT_BRACKET)throw s();this.nextToken();for(var f=new o(h.lineno,h.colno),E=!1,T=0;T<=f.fields.length&&!this.skip(j.TOKEN_RIGHT_BRACKET);T++){if(T===f.fields.length)if(E)this.fail("parseSlice: too many slice components",h.lineno,h.colno);else break;if(this.skip(j.TOKEN_COLON))E=!0;else{var A=f.fields[T];f[A]=this.parseExpression(),E=this.skip(j.TOKEN_COLON)||E}}if(!E)throw s();return new w.Array(h.lineno,h.colno,[f])}}}function g(r,u,l,s){r=r||[],u===null&&(u=s<0?r.length-1:0),l===null?l=s<0?-1:r.length:l<0&&(l+=r.length),u<0&&(u+=r.length);for(var h=[],f=u;!(f<0||f>r.length||s>0&&f>=l||s<0&&f<=l);f+=s)h.push(x.memberLookup(r,f));return h}function c(r,u){return Object.prototype.hasOwnProperty.call(r,u)}var e={pop:function(r){if(r===void 0)return this.pop();if(r>=this.length||r<0)throw new Error("KeyError");return this.splice(r,1)},append:function(r){return this.push(r)},remove:function(r){for(var u=0;u<this.length;u++)if(this[u]===r)return this.splice(u,1);throw new Error("ValueError")},count:function(r){for(var u=0,l=0;l<this.length;l++)this[l]===r&&u++;return u},index:function(r){var u;if((u=this.indexOf(r))===-1)throw new Error("ValueError");return u},find:function(r){return this.indexOf(r)},insert:function(r,u){return this.splice(r,0,u)}},i={items:function(){return p._entries(this)},values:function(){return p._values(this)},keys:function(){return p.keys(this)},get:function(r,u){var l=this[r];return l===void 0&&(l=u),l},has_key:function(r){return c(this,r)},pop:function(r,u){var l=this[r];if(l===void 0&&u!==void 0)l=u;else{if(l===void 0)throw new Error("KeyError");delete this[r]}return l},popitem:function(){var r=p.keys(this);if(!r.length)throw new Error("KeyError");var u=r[0],l=this[u];return delete this[u],[u,l]},setdefault:function(r,u){return u===void 0&&(u=null),r in this||(this[r]=u),this[r]},update:function(r){return p._assign(this,r),null}};return i.iteritems=i.items,i.itervalues=i.values,i.iterkeys=i.keys,x.memberLookup=function(r,u,l){return arguments.length===4?g.apply(this,arguments):(r=r||{},p.isArray(r)&&c(e,u)?e[u].bind(r):p.isObject(r)&&c(i,u)?i[u].bind(r):C.apply(this,arguments))},n}D.exports=_})])})})(xe)),xe.exports}var je=Ie();const Ke=Be(je),Me=Ke.configure("/src/templates",{autoescape:!0});document.getElementById("app").innerHTML=Me.render("index.njk");
